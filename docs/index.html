<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>P1-VL: Bridging Visual Perception and Scientific Reasoning in Physics Olympiads</title>
    <meta name="description" content="P1: Mastering Physics Olympiads with Reinforcement Learning">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;600;700&family=Noto+Serif+SC:wght@400;600;700&display=swap" rel="stylesheet">
    
    <!-- ECharts CDN -->
    <script src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
    
    <!-- MathJax for LaTeX rendering -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
        MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                processEscapes: true,
                processEnvironments: true
            },
            options: {
                skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
            }
        };
    </script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        /* Smooth scrolling */
        html {
            scroll-behavior: smooth;
            background: var(--bg-page);
        }
        
        body {
            background: var(--bg-page);
            color: var(--text-primary);
            transition: background-color var(--duration-normal) var(--easing-default), color var(--duration-normal) var(--easing-default);
        }
        
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
        }
        
        ::-webkit-scrollbar-track {
            background: var(--bg-surface);
        }
        
        ::-webkit-scrollbar-thumb {
            background: var(--border-medium);
            border-radius: var(--radius-full);
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: var(--primary-500);
        }
        
        /* Selection */
        ::selection {
            background: rgba(168, 85, 247, 0.3);
            color: var(--text-primary);
        }
        
        :root {
            /* Dark Theme Colors */
            --primary-400: #C084FC;
            --primary-500: #A855F7;
            --primary-600: #9333EA;
            --primary-700: #7E22CE;
            
            --accent-blue: #60A5FA;
            --accent-cyan: #22D3EE;
            --accent-purple: #A78BFA;
            
            /* Dark Backgrounds */
            --bg-page: #0A0A0A;
            --bg-surface: #141414;
            --bg-elevated: #1A1A1A;
            --bg-card: #1E1E1E;
            
            /* Text Colors */
            --text-primary: #FFFFFF;
            --text-secondary: #A1A1AA;
            --text-tertiary: #71717A;
            --text-muted: #52525B;
            
            /* Border Colors */
            --border-subtle: #27272A;
            --border-medium: #3F3F46;
            --border-strong: #52525B;
            
            /* Gradient Accents */
            --gradient-purple: linear-gradient(135deg, #A855F7 0%, #7E22CE 100%);
            --gradient-blue: linear-gradient(135deg, #60A5FA 0%, #3B82F6 100%);
            --gradient-mesh: radial-gradient(at 0% 0%, rgba(168, 85, 247, 0.15) 0%, transparent 50%),
                             radial-gradient(at 100% 0%, rgba(34, 211, 238, 0.1) 0%, transparent 50%),
                             radial-gradient(at 100% 100%, rgba(96, 165, 250, 0.1) 0%, transparent 50%);
            
			/* Typography */
			--font-serif: 'Helvetica Neue', Helvetica, Arial, 'Noto Sans SC', sans-serif;
            --font-sans: 'Helvetica Neue', Helvetica, Arial, 'Noto Sans SC', sans-serif;
            
            /* Spacing */
            --space-xs: 6px;
            --space-sm: 10px;
            --space-md: 14px;
            --space-lg: 18px;
            --space-xl: 24px;
            --space-2xl: 32px;
            --space-3xl: 48px;
            --space-4xl: 64px;
            
            /* Border Radius */
            --radius-sm: 6px;
            --radius-md: 10px;
            --radius-lg: 16px;
            --radius-xl: 20px;
            --radius-full: 9999px;
            
            /* Shadows - Dark Theme */
            --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.5);
            --shadow-card: 0 8px 32px rgba(0, 0, 0, 0.4);
            --shadow-card-hover: 0 12px 48px rgba(168, 85, 247, 0.3);
            --shadow-lg: 0 20px 60px rgba(0, 0, 0, 0.6);
            --shadow-glow: 0 0 40px rgba(168, 85, 247, 0.4);
            
            /* Animation */
            --duration-fast: 200ms;
            --duration-normal: 300ms;
            --duration-slow: 500ms;
            --easing-default: cubic-bezier(0.4, 0, 0.2, 1);
            --easing-smooth: cubic-bezier(0.25, 0.1, 0.25, 1);
            --easing-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }
        
        /* Light Theme */
        :root[data-theme="light"] {
            /* Light Backgrounds */
            --bg-page: #FFFFFF;
            --bg-surface: #F5F5F5;
            --bg-elevated: #FAFAFA;
            --bg-card: #FFFFFF;
            
            /* Light Text Colors */
            --text-primary: #1A1A1A;
            --text-secondary: #525252;
            --text-tertiary: #737373;
            --text-muted: #A3A3A3;
            
            /* Light Border Colors */
            --border-subtle: #E5E5E5;
            --border-medium: #D4D4D4;
            --border-strong: #A3A3A3;
            
            /* Light Shadows */
            --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.1);
            --shadow-card: 0 8px 32px rgba(0, 0, 0, 0.08);
            --shadow-card-hover: 0 12px 48px rgba(168, 85, 247, 0.15);
            --shadow-lg: 0 20px 60px rgba(0, 0, 0, 0.12);
            --shadow-glow: 0 0 40px rgba(168, 85, 247, 0.2);
        }

        /* Language Switcher */
		.lang-switcher {
			position: absolute;
			top: 16px;
			right: 16px;
			display: inline-flex;
			gap: 8px;
			background: transparent;
			border: none;
			border-radius: var(--radius-full);
			padding: 4px;
			z-index: 2;
		}

		.lang-switcher button {
			appearance: none;
			border: none;
			background: transparent;
			color: var(--text-secondary);
			font-family: var(--font-sans);
			font-weight: 600;
			font-size: 13px;
			padding: 6px 12px;
			border-radius: var(--radius-full);
			cursor: pointer;
			transition: color var(--duration-normal) var(--easing-default);
		}

		.lang-switcher button.active {
			background: transparent;
			color: var(--text-primary);
		}

		/* TOC (hover to open) */
		.toc {
			position: fixed;
			top: 72px; /* below language switcher */
			right: 16px;
			z-index: 1100;
		}

		.toc-trigger {
			appearance: none;
			border: none;
			background: transparent;
			color: var(--text-secondary);
			font-family: var(--font-sans);
			font-weight: 600;
			font-size: 13px;
			padding: 8px 12px;
			border-radius: var(--radius-full);
			cursor: pointer;
			transition: color var(--duration-normal) var(--easing-default);
		}

		.toc-trigger:hover {
			color: var(--text-primary);
		}

		.toc-panel {
			position: absolute;
			top: 42px;
			right: 0;
			width: 320px;
			max-height: 60vh;
			overflow: auto;
			padding: 12px;
			background: var(--bg-elevated);
			border: 1px solid var(--border-subtle);
			border-radius: var(--radius-lg);
			opacity: 0;
			pointer-events: none;
			transform: translateY(-6px);
			transition: all var(--duration-normal) var(--easing-default);
		}

		.toc:hover .toc-panel,
		.toc:focus-within .toc-panel {
			opacity: 1;
			pointer-events: auto;
			transform: translateY(0);
		}

		.toc-title {
			font-weight: 700;
			margin: 4px 4px 8px 4px;
			color: var(--text-primary);
		}

		#tocList {
			list-style: none;
			margin: 0;
			padding: 0;
		}

		#tocList li {
			margin: 6px 0;
		}

		#tocList a {
			color: var(--text-secondary);
			text-decoration: none;
			font-size: 14px;
		}

		#tocList a:hover {
			color: var(--primary-400);
			text-decoration: underline;
		}

		#tocList li.toc-h3 a { padding-left: 14px; display: inline-block; }
        
        body {
            font-family: var(--font-sans);
            font-size: 19px;
            line-height: 1.7;
            color: var(--text-primary);
            background-color: var(--bg-page);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            font-weight: 500;
        }
        
        /* Navigation Bar */
        .nav-bar-wrapper {
            width: 100%;
            background: var(--bg-surface);
            border-bottom: 1px solid var(--border-subtle);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .nav-bar {
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
            padding: var(--space-lg) var(--space-xl);
            display: flex;
            gap: var(--space-md);
            align-items: center;
            gap: var(--space-xl);
        }
        
        .nav-right {
            display: flex;
            align-items: center;
            gap: var(--space-lg);
        }
        
        /* Theme Toggle Button */
        .theme-toggle {
            appearance: none;
            border: none;
            background: transparent;
            color: var(--text-secondary);
            font-family: var(--font-sans);
            font-weight: 600;
            font-size: 13px;
            padding: 6px 12px;
            border-radius: var(--radius-full);
            cursor: pointer;
            transition: all var(--duration-normal) var(--easing-default);
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        .theme-toggle:hover {
            color: var(--text-primary);
            background: var(--bg-elevated);
        }
        
        .theme-toggle-icon {
            width: 18px;
            height: 18px;
            transition: transform var(--duration-normal) var(--easing-default);
        }
        
        .theme-toggle:active .theme-toggle-icon {
            transform: rotate(180deg);
        }
        
        
        /* Page Title Section */
        .page-title-section {
            padding: var(--space-2xl) var(--space-xl);
            text-align: center;
            background: var(--bg-page);
        }
        
        .page-title {
            max-width: 1200px;
            margin: 0 auto;
            font-family: var(--font-serif);
            font-size: 64px;
            font-weight: 700;
            line-height: 1.2;
            letter-spacing: -0.02em;
            color: var(--text-primary);
        }
        
        /* Content Container */
        .container {
            max-width: 1280px;
            margin: 0 auto;
            padding: 0 var(--space-xl);
        }
        
        /* Highlight Card */
        .highlight-card {
            display: flex;
            gap: var(--space-md);
            background: transparent;
            border: none;
            border-radius: 0;
            padding: var(--space-xl) 0;
            margin: var(--space-2xl) 0;
            position: relative;
            overflow: hidden;
        }
        
        .highlight-icon {
            display: none;
        }
        
        .highlight-content {
            font-size: 20px;
            line-height: 1.7;
            color: var(--text-secondary);
            position: relative;
            z-index: 1;
            font-weight: 500;
        }
        
        .highlight-content strong {
            color: var(--text-primary);
            font-weight: 700;
        }
        
        /* Article Images */
        .article-image-container {
            margin: var(--space-2xl) 0;
            cursor: zoom-in;
        }
        
        .article-image {
            display: block;
            width: 100%;
            height: auto;
        }
        
        .image-caption {
            padding: var(--space-md) 0;
            font-size: 14px;
            color: var(--text-secondary);
            text-align: center;
        }
        
        /* Image Grid Layout */
        .image-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: var(--space-md);
            margin: var(--space-xl) 0;
        }
        
        .image-grid .article-image-container {
            margin: 0;
        }
        
        /* Interactive Chart Container */
        .interactive-chart-container {
            position: relative;
            background: var(--bg-page);
        }
        
        .chart-iframe-wrapper {
            width: 100%;
            position: relative;
            overflow: hidden;
            background: var(--bg-page);
            /* Aspect ratio 1000:650 = 1.538 */
            padding-bottom: 65%;
        }
        
        .chart-iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
            display: block;
            background: transparent;
        }
        
        .chart-caption {
            padding: var(--space-sm) 0;
            font-size: 13px;
            color: var(--text-secondary);
            text-align: center;
        }
        
        /* Lightbox */
        .lightbox {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(10px);
            z-index: 9999;
            align-items: center;
            justify-content: center;
            animation: fadeIn var(--duration-normal) var(--easing-default);
        }
        
        .lightbox.active {
            display: flex;
        }
        
        .lightbox-image {
            max-width: 90vw;
            max-height: 90vh;
            border-radius: var(--radius-md);
            animation: zoomIn var(--duration-slow) var(--easing-smooth);
        }
        
        .lightbox-close {
            position: fixed;
            top: var(--space-lg);
            right: var(--space-lg);
            width: 48px;
            height: 48px;
            background: rgba(20, 20, 20, 0.8);
            border: none;
            border-radius: var(--radius-full);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: color var(--duration-normal) var(--easing-default);
            color: var(--text-secondary);
        }
        
        .lightbox-close:hover {
            color: var(--text-primary);
        }
        
        /* Typography */
        h2 {
            font-family: var(--font-serif);
            font-size: 42px;
            font-weight: 700;
            color: var(--text-primary);
            margin-top: var(--space-2xl);
            margin-bottom: var(--space-md);
            line-height: 1.25;
            position: relative;
            padding-bottom: var(--space-sm);
        }
        
        
        h3 {
            font-family: var(--font-serif);
            font-size: 30px;
            font-weight: 700;
            color: var(--text-primary);
            margin-top: var(--space-xl);
            margin-bottom: var(--space-sm);
            line-height: 1.35;
        }
        
        p {
            margin-bottom: var(--space-md);
            line-height: 1.7;
            color: var(--text-secondary);
            font-weight: 500;
        }
        
        strong {
            font-weight: 700;
            color: var(--text-primary);
        }
        
        /* Links */
        a {
            color: var(--primary-400);
            text-decoration: none;
            transition: all var(--duration-normal) var(--easing-default);
            position: relative;
        }
        
        a:hover {
            color: var(--primary-500);
            text-decoration: underline;
        }
        
        /* External Link Buttons */
        .external-links {
            display: flex;
            flex-wrap: wrap;
            gap: var(--space-lg);
            margin: var(--space-lg) 0;
        }
        
        /* Model Download Section */
        .model-download-section {
            background: transparent;
            border: none;
            padding: 0;
            margin: var(--space-lg) 0;
        }
        
        .model-download-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-secondary);
            margin-bottom: var(--space-sm);
            display: flex;
            align-items: center;
            gap: var(--space-xs);
        }
        
        .model-download-links {
            display: flex;
            flex-wrap: wrap;
            gap: var(--space-md);
            margin-top: var(--space-sm);
            justify-content: center;
        }
        
        .model-download-card {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: var(--bg-elevated);
            border: 1px solid var(--border-medium);
            border-radius: var(--radius-md);
            padding: 10px 16px;
            text-decoration: none;
            transition: all var(--duration-normal) var(--easing-default);
        }
        
        .model-download-card:hover {
            border-color: var(--primary-500);
            background: var(--bg-card);
            transform: translateY(-1px);
        }
        
        .huggingface-icon {
            width: 20px;
            height: 20px;
            flex-shrink: 0;
        }
        
        .model-download-card-title {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-primary);
        }
        
        .model-download-card-subtitle {
            display: none;
        }
        
        .btn-external {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 0;
            background: transparent;
            color: var(--primary-400);
            font-family: var(--font-sans);
            font-size: 16px;
            font-weight: 400;
            border-radius: 0;
            text-decoration: none;
            transition: color var(--duration-normal) var(--easing-default);
            position: relative;
            overflow: visible;
            border: none;
        }
        
        .btn-external:hover {
            color: var(--primary-500);
            text-decoration: underline;
        }
        
        .external-icon {
            width: 14px;
            height: 14px;
        }
        
        /* Lists */
        ul {
            margin: var(--space-md) 0;
            padding-left: var(--space-lg);
        }
        
        li {
            margin-bottom: var(--space-sm);
            line-height: 1.7;
            color: var(--text-secondary);
            font-weight: 500;
        }
        
        li::marker {
            color: var(--primary-400);
        }
        
        li p {
            display: inline;
            color: var(--text-secondary);
        }
        
        /* Separator */
        hr {
            border: none;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--border-medium), transparent);
            margin: var(--space-3xl) 0;
        }
        
        /* Content Sections */
        .content-section {
            margin-top: var(--space-xl);
        }
        
        /* ECharts Container */
        .chart-container {
            margin: var(--space-xl) 0;
            background: var(--bg-page);
            border: none;
            border-radius: 0;
            padding: var(--space-lg) 0;
            position: relative;
            overflow: hidden;
        }
        
        .chart-title {
            font-family: var(--font-serif);
            font-size: 28px;
            font-weight: 700;
            color: var(--text-primary);
            text-align: center;
            margin-bottom: var(--space-lg);
            position: relative;
            z-index: 1;
        }
        
        .chart-legend {
            display: flex;
            gap: var(--space-lg);
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: var(--space-md);
            position: relative;
            z-index: 1;
        }
        
        .legend-item {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: var(--text-secondary);
            font-size: 14px;
            font-weight: 500;
        }
        
        .legend-swatch {
            width: 32px;
            height: 20px;
            border-radius: var(--radius-sm);
            border: none;
        }
        
        .legend-swatch.striped {
            background: repeating-linear-gradient(
                -45deg,
                var(--text-secondary),
                var(--text-secondary) 2px,
                var(--bg-elevated) 2px,
                var(--bg-elevated) 4px
            );
        }
        
        .legend-swatch.solid {
            background: var(--text-secondary);
        }
        
        #ipho-chart {
            width: 100%;
            height: 500px;
            position: relative;
            z-index: 1;
        }
        
        /* Responsive chart */
        @media (max-width: 1023px) {
            #ipho-chart {
                height: 450px;
            }
            
            .chart-title {
                font-size: 24px;
            }
        }
        
        @media (max-width: 767px) {
            .chart-container {
                padding: var(--space-md);
            }
            
            #ipho-chart {
                height: 400px;
            }
            
            .chart-title {
                font-size: 20px;
            }
            
            .legend-item {
                font-size: 12px;
            }
        }
        
        /* Responsive iframe/image switching */
        .chart-mobile-img {
            display: none;
            width: 100%;
            height: auto;
        }
        
        @media (max-width: 1023px) {
            .chart-iframe-wrapper {
                display: none !important;
            }
            
            .chart-mobile-img {
                display: block;
            }
        }
        
        /* Animations */
        @keyframes fadeIn {
            from { 
                opacity: 0; 
            }
            to { 
                opacity: 1; 
            }
        }
        
        @keyframes zoomIn {
            from {
                opacity: 0;
                transform: scale(0.9) translateY(20px);
            }
            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }
        
        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Scroll Animations */
        .content-section,
        .article-image-container,
        .highlight-card {
            animation: slideUp 0.6s var(--easing-smooth) backwards;
        }
        
        .content-section:nth-child(odd) {
            animation-delay: 0.1s;
        }
        
        .content-section:nth-child(even) {
            animation-delay: 0.2s;
        }
        
        /* Responsive */
        @media (max-width: 1023px) {
            .page-title-section {
                padding: var(--space-xl) var(--space-md);
            }
            
            .page-title {
                font-size: 48px;
                line-height: 1.25;
                padding: 0 var(--space-md);
            }
            
            .container {
                padding: 0 var(--space-xl);
            }
            
            .image-grid {
                gap: var(--space-md);
            }
        }
        
        @media (max-width: 767px) {
            .page-title-section {
                padding: var(--space-lg) var(--space-sm);
            }
            
            .page-title {
                font-size: 32px;
                line-height: 1.3;
                padding: 0 var(--space-sm);
                letter-spacing: -0.01em;
            }
            
            .hero-header {
                padding: var(--space-2xl) var(--space-md);
            }
            
            .hero-title {
                font-size: 40px;
            }
            
            .container {
                padding: 0 var(--space-md);
            }
            
            h2 {
                font-size: 24px;
                margin-top: var(--space-2xl);
            }
            
            h3 {
                font-size: 20px;
            }
            
            .highlight-card {
                padding: 20px;
            }
            
            .highlight-content {
                font-size: 16px;
            }
            
            .btn-external {
                width: 100%;
                justify-content: center;
            }
            
            .external-links {
                flex-direction: column;
            }
            
            .model-download-links {
                flex-direction: row;
                flex-wrap: wrap;
            }
            
            .model-download-card {
                flex: 0 1 auto;
            }
            
            .lightbox-close {
                top: var(--space-md);
                right: var(--space-md);
            }
            
            .image-grid {
                grid-template-columns: 1fr;
                gap: var(--space-md);
            }
        }
        
        /* Extra small screens */
        @media (max-width: 480px) {
            .page-title {
                font-size: 28px;
                line-height: 1.35;
                padding: 0 var(--space-xs);
            }
        }
        
        /* Scroll to Top Button */
        .scroll-to-top {
            position: fixed;
            bottom: var(--space-xl);
            right: var(--space-xl);
            width: 56px;
            height: 56px;
            background: var(--gradient-purple);
            border: none;
            border-radius: var(--radius-full);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            opacity: 0;
            visibility: hidden;
            transition: opacity var(--duration-normal) var(--easing-default), visibility var(--duration-normal) var(--easing-default);
            z-index: 1000;
        }
        
        .scroll-to-top.visible {
            opacity: 1;
            visibility: visible;
        }
        
        .scroll-to-top:hover {
            opacity: 0.9;
        }
        
        .scroll-to-top svg {
            width: 24px;
            height: 24px;
            color: white;
        }
        
        /* Progress Bar */
        .progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            height: 3px;
            background: var(--gradient-purple);
            width: 0%;
            z-index: 10000;
            transition: width 0.1s ease-out;
        }
        
        /* Reduced Motion */
        @media (prefers-reduced-motion: reduce) {
            *,
            *::before,
            *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }
        
        /* Case Study Section */
        .case-study-problem {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            padding: var(--space-xl);
            margin-bottom: var(--space-3xl);
        }
        
        .case-study-problem-title {
            font-size: 24px;
            font-weight: 600;
            color: var(--primary-400);
            margin-bottom: var(--space-md);
        }
        
        .case-study-problem-content {
            font-size: 16px;
            line-height: 1.8;
            color: var(--text-secondary);
            max-width: 100%;
            overflow-wrap: break-word;
            word-wrap: break-word;
        }
        
        .case-study-problem-content h4 {
            font-size: 18px;
            font-weight: 600;
            color: var(--text-primary);
            margin-top: var(--space-lg);
            margin-bottom: var(--space-sm);
        }
        
        .case-study-problem-content h4:first-child {
            margin-top: 0;
        }
        
        .case-study-problem-content ul {
            margin: var(--space-sm) 0;
            padding-left: var(--space-xl);
        }
        
        .case-study-problem-content li {
            margin: var(--space-xs) 0;
        }
        
        .case-study-problem-content .problem-question {
            margin-top: var(--space-lg);
            padding: var(--space-md);
            background: var(--bg-surface);
            border-left: 3px solid var(--primary-500);
            border-radius: 4px;
            font-weight: 500;
            color: var(--text-primary);
            max-width: 100%;
            overflow-wrap: break-word;
            word-wrap: break-word;
        }
        
        /* Context Toggle Button */
        .context-toggle {
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: var(--space-md) var(--space-lg);
            margin-bottom: var(--space-lg);
            background: var(--bg-elevated);
            border: 1px solid var(--border-subtle);
            border-radius: 8px;
            color: var(--primary-400);
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all var(--duration-normal) var(--easing-default);
        }
        
        .context-toggle:hover {
            background: var(--bg-surface);
            border-color: var(--primary-500);
        }
        
        .context-toggle-icon {
            width: 20px;
            height: 20px;
            transition: transform var(--duration-normal) var(--easing-default);
        }
        
        .context-toggle.active .context-toggle-icon {
            transform: rotate(180deg);
        }
        
        /* Context Content */
        .context-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s var(--easing-default);
        }
        
        .context-content.show {
            max-height: 10000px;
        }
        
        .context-inner {
            padding-bottom: var(--space-lg);
            border-bottom: 2px solid var(--border-subtle);
            margin-bottom: var(--space-lg);
            max-width: 100%;
            overflow-wrap: break-word;
            word-wrap: break-word;
        }
        
        .models-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: var(--space-xl);
            margin-bottom: var(--space-3xl);
        }
        
        .model-card {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            padding: var(--space-xl);
            transition: border-color var(--duration-normal) var(--easing-default);
            max-width: 100%;
            overflow-wrap: break-word;
            word-wrap: break-word;
        }
        
        .model-card:hover {
            border-color: var(--primary-500);
        }
        
        .model-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-lg);
            padding-bottom: var(--space-md);
            border-bottom: 1px solid var(--border-subtle);
        }
        
        .model-name {
            font-size: 22px;
            font-weight: 700;
            color: var(--text-primary);
        }
        
        .model-score {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 20px;
            font-weight: 700;
        }
        
        .model-score.perfect {
            color: #10B981;
        }
        
        .model-score.partial {
            color: #F59E0B;
        }
        
        .model-score.low {
            color: #EF4444;
        }
        
        .score-icon {
            width: 24px;
            height: 24px;
        }
        
        .answer-section {
            margin-bottom: var(--space-lg);
        }
        
        .answer-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: var(--space-sm);
        }
        
        .answer-content {
            background: var(--bg-elevated);
            border-radius: 8px;
            padding: var(--space-md);
            font-size: 16px;
            line-height: 1.6;
            color: var(--text-secondary);
            max-width: 100%;
            overflow-wrap: break-word;
            word-wrap: break-word;
            word-break: break-word;
        }
        
        .answer-item {
            margin-bottom: var(--space-sm);
        }
        
        .evaluation-section {
            margin-bottom: var(--space-lg);
        }
        
        .evaluation-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: var(--space-sm);
        }
        
        .evaluation-criteria {
            display: flex;
            flex-direction: column;
            gap: var(--space-sm);
        }
        
        .criterion-item {
            display: flex;
            align-items: flex-start;
            gap: var(--space-sm);
            font-size: 14px;
            color: var(--text-secondary);
            line-height: 1.5;
        }
        
        .criterion-icon {
            flex-shrink: 0;
            width: 20px;
            height: 20px;
            margin-top: 2px;
        }
        
        .criterion-icon.correct {
            color: #10B981;
        }
        
        .criterion-icon.incorrect {
            color: #EF4444;
        }
        
        .solution-section {
            margin-top: var(--space-lg);
        }
        
        .solution-toggle {
            width: 100%;
            background: var(--bg-elevated);
            border: 1px solid var(--border-medium);
            border-radius: 8px;
            padding: var(--space-md);
            font-size: 16px;
            font-weight: 600;
            color: var(--text-primary);
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all var(--duration-normal) var(--easing-default);
        }
        
        .solution-toggle:hover {
            background: var(--border-subtle);
            border-color: var(--primary-500);
        }
        
        .solution-toggle-icon {
            width: 20px;
            height: 20px;
            transition: transform var(--duration-normal) var(--easing-default);
        }
        
        .solution-toggle.active .solution-toggle-icon {
            transform: rotate(180deg);
        }
        
        .solution-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height var(--duration-slow) var(--easing-default);
        }
        
        .solution-content.active {
            max-height: 2000px;
        }
        
        .solution-inner {
            background: var(--bg-elevated);
            border: 1px solid var(--border-medium);
            border-top: none;
            border-radius: 0 0 8px 8px;
            padding: var(--space-lg);
            font-size: 15px;
            line-height: 1.7;
            color: var(--text-secondary);
            max-height: 500px;
            overflow-y: auto;
            max-width: 100%;
            overflow-wrap: break-word;
            word-wrap: break-word;
        }
        
        .solution-inner::-webkit-scrollbar {
            width: 8px;
        }
        
        .solution-inner::-webkit-scrollbar-thumb {
            background: var(--border-medium);
            border-radius: 4px;
        }
        
        .solution-inner p {
            margin-bottom: var(--space-md);
        }
        
        @media (max-width: 1023px) {
            .models-grid {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 767px) {
            .models-grid {
                grid-template-columns: minmax(0, 1fr);
                gap: var(--space-lg);
            }
            
            .case-study-problem {
                padding: var(--space-md);
            }
            
            .model-card {
                padding: var(--space-md);
                min-width: 0;
            }
            
            .answer-content {
                padding: var(--space-sm);
                font-size: 14px;
            }
            
            .solution-inner {
                padding: var(--space-md);
                font-size: 14px;
            }
            
            .context-inner {
                font-size: 14px;
            }
            
            .case-study-problem-content {
                font-size: 14px;
            }
            
            .case-study-problem-content table {
                font-size: 12px;
            }
        }
        
        /* Organization Logos Section */
        .org-logos-section {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .org-logo-item {
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform var(--duration-normal) var(--easing-default), opacity var(--duration-normal) var(--easing-default);
            opacity: 0.8;
        }
        
        .org-logo-item:hover {
            transform: translateY(-2px);
            opacity: 1;
        }
        
        .org-logo-item img {
            height: 35px;
            width: auto;
            object-fit: contain;
            transition: all var(--duration-normal) var(--easing-default);
        }
        
        @media (max-width: 968px) {
            .org-logos-section {
                gap: 15px;
            }
            
            .org-logo-item img {
                height: 28px;
            }
        }
        
        @media (max-width: 768px) {
            .org-logos-section {
                gap: 12px;
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .org-logo-item img {
                height: 24px;
            }
        }
        
        @media (max-width: 480px) {
            .org-logos-section {
                gap: 10px;
            }
            
            .org-logo-item img {
                height: 20px;
            }
        }
        
        /* Acknowledgements Section */
        .acknowledgements-section {
            margin-top: var(--space-4xl);
            padding: var(--space-2xl) 0;
            background: transparent;
        }
        
        .acknowledgements-title {
            font-size: 20px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: var(--space-lg);
        }
        
        .acknowledgements-intro {
            color: var(--text-secondary);
            line-height: 1.6;
            margin-bottom: var(--space-lg);
        }
        
        .acknowledgements-list {
            list-style: disc;
            padding-left: var(--space-xl);
        }
        
        .acknowledgements-list li {
            margin-bottom: var(--space-md);
            color: var(--text-secondary);
        }
        
        .acknowledgements-list li::marker {
            color: var(--text-secondary);
        }
        
        .acknowledgements-list strong {
            font-weight: 700;
        }
        
        .acknowledgements-list strong a {
            color: var(--text-primary);
            text-decoration: none;
            transition: color var(--duration-fast) var(--easing-default);
        }
        
        .acknowledgements-list strong a:hover {
            color: var(--primary-400);
            text-decoration: underline;
        }
        
        .acknowledgements-outro {
            margin-top: var(--space-lg);
            padding-top: var(--space-lg);
            border-top: 1px solid var(--border-subtle);
            color: var(--text-secondary);
            line-height: 1.6;
        }
        
        @media (max-width: 767px) {
            .acknowledgements-section {
                padding: var(--space-lg) 0;
            }
            
            .acknowledgements-list li {
                font-size: 14px;
            }
        }
        
        /* Citation Section */
        .citation-section {
            margin-top: var(--space-4xl);
            padding: var(--space-2xl) var(--space-xl);
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
        }
        
        .citation-title {
            font-size: 20px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: var(--space-lg);
        }
        
        .citation-bibtex-wrapper {
            position: relative;
        }
        
        .citation-bibtex-content {
            background: var(--bg-elevated);
            border: 1px solid var(--border-medium);
            border-radius: 8px;
            padding: var(--space-lg);
            padding-top: var(--space-3xl);
            font-family: 'Courier New', Courier, monospace;
            font-size: 14px;
            line-height: 1.6;
            color: var(--text-secondary);
            overflow-x: auto;
            white-space: pre;
        }
        
        .citation-copy-btn {
            position: absolute;
            top: var(--space-sm);
            right: var(--space-sm);
            padding: 6px 12px;
            background: transparent;
            color: var(--text-secondary);
            border: 1px solid var(--border-medium);
            border-radius: 4px;
            cursor: pointer;
            font-size: 13px;
            font-weight: 500;
            transition: all var(--duration-fast) var(--easing-default);
        }
        
        .citation-copy-btn:hover {
            background: var(--bg-surface);
            color: var(--text-primary);
            border-color: var(--primary-500);
        }
        
        .citation-copy-btn.copied {
            background: var(--bg-surface);
            color: var(--primary-400);
            border-color: var(--primary-500);
        }
        
        @media (max-width: 767px) {
            .citation-section {
                padding: var(--space-lg) var(--space-md);
            }
            
            .citation-bibtex-content {
                font-size: 12px;
                padding: var(--space-2xl) var(--space-md) var(--space-md);
            }
            
            .citation-copy-btn {
                font-size: 12px;
                padding: 4px 8px;
            }
        }
    </style>
</head>
<body>
    <!-- Progress Bar -->
    <div class="progress-bar" id="progressBar"></div>
    
    <!-- Navigation -->
    <div class="nav-bar-wrapper">
    <nav class="nav-bar">
            <!-- Organization Logos -->
            <div class="org-logos-section">
                <div class="org-logo-item">
                    <img id="ailabLogo" src="imgs/ailab-logo.png" alt="AI Lab" />
                </div>
                <div class="org-logo-item">
                    <img src="imgs/thu-logo1.png" alt="Tsinghua University" />
                </div>
                <div class="org-logo-item">
                    <img src="imgs/cuhk-logo.png" alt="CUHK" />
                </div>
            </div>
            
            <div class="nav-right">
        <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme" title="Toggle light/dark mode">
            <svg class="theme-toggle-icon" id="themeIcon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
            </svg>
            <span id="themeLabel" data-i18n="theme.dark" data-i18n-zh="深色" data-i18n-en="Dark">Dark</span>
        </button>
        <div class="lang-switcher" role="group" aria-label="Language Switcher">
            <button id="btn-zh" data-lang="zh" aria-pressed="false">中文</button>
            <button id="btn-en" data-lang="en" class="active" aria-pressed="true">English</button>
        </div>
        <div class="toc" aria-haspopup="true">
            <button class="toc-trigger" id="tocTrigger" aria-expanded="false" data-i18n="toc.trigger" data-i18n-zh="目录" data-i18n-en="Contents">目录</button>
            <div class="toc-panel" role="menu" aria-label="Table of contents">
                <div class="toc-title" data-i18n="toc.title" data-i18n-zh="目录" data-i18n-en="Table of contents">目录</div>
                <ul id="tocList"></ul>
                    </div>
            </div>
        </div>
    </nav>
    </div>

    <!-- Page Title -->
    <div class="page-title-section">
        <h1 class="page-title" data-i18n="hero.title"
            data-i18n-zh="P1-VL：连接物理奥林匹克竞赛中的视觉感知与科学推理"
            data-i18n-en="P1-VL: Bridging Visual Perception and Scientific Reasoning in Physics Olympiads">P1-VL：连接物理奥林匹克竞赛中的视觉感知与科学推理</h1>
    </div>

    

    <!-- Main Content -->
    <main class="container">
        <!-- Highlight Card -->
        <!-- <div class="highlight-card">
            <svg class="highlight-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
            </svg>
            <div class="highlight-content">
                <p data-i18n="highlight.intro"
                  data-i18n-zh="我们推出 P1 系列物理推理大模型及涵盖模型、算法、评测集和智能体框架的全链路开源体系。其核心模型 <strong>P1-235B-A22B</strong> 在涵盖13场顶级物理竞赛的<strong>HiPhO</strong>基准中斩获<strong>12金1银</strong>，与 <strong>Gemini-2.5-Pro</strong> 并列奖牌榜第一，并成为首个在国际物理奥林匹克竞赛 <strong>IPhO 2025</strong> 中夺金的开源模型。同时，团队提出的协同进化多智能体系统 <strong>PhysicsMinions</strong>，助力 P1 模型实现再度跃升，在 <strong>IPhO 2025</strong> 及 <strong>HiPhO</strong> 综合得分上<strong>双双问鼎</strong>，力压 Gemini-2.5-Pro 与 GPT-5 等顶尖闭源模型，展现了<strong>&quot;模型+系统&quot;</strong>框架在应对复杂科学问题的卓越潜力。"
                  data-i18n-en="Today, we release the P1 series models for physics reasoning and a full-stack open-source ecosystem spanning models, algorithms, benchmarks, and agent frameworks. The flagship model <strong>P1-235B-A22B</strong> wins <strong>12 golds and 1 silver</strong> across 13 top international/regional physics contests, tying <strong>Gemini-2.5-Pro</strong> for first on the medal table, and becomes the first open-source model to win gold at <strong>IPhO 2025</strong>. The proposed co-evolution multi-agent system, <strong>PhysicsMinions</strong>, further boosts P1 to <strong>No.1</strong> on both IPhO 2025 and HiPhO overall scores, outperforming Gemini-2.5-Pro and GPT-5, showcasing the <strong>&quot;model + system&quot;</strong> paradigm for complex scientific reasoning."></p>
            </div>
        </div> -->

        <!-- Main Hero Chart -->
        <div class="chart-container" style="margin-top: 2rem; margin-bottom: 2rem;">
            <!-- <div class="chart-title" data-i18n="chart.title"
                 data-i18n-zh="国际物理奥林匹克 2025（IPhO 2025）"
                 data-i18n-en="International Physics Olympiad 2025 (IPhO 2025)">国际物理奥林匹克 2025（IPhO 2025）</div>
            <div id="chart-legend" class="chart-legend">
                <div class="legend-item"><span class="legend-swatch solid"></span><span data-i18n="legend.open"
                    data-i18n-zh="开源"
                    data-i18n-en="Open-source">开源</span></div>
                <div class="legend-item"><span class="legend-swatch striped"></span><span data-i18n="legend.closed"
                    data-i18n-zh="闭源"
                    data-i18n-en="Closed-source">闭源</span></div>
            </div> -->
            <div class="chart-iframe-wrapper" style="padding-bottom: 45%; position: relative; overflow: hidden;">
                <iframe class="chart-iframe" src="source_html/hipho.html" title="High School Physics Olympiad Benchmark (HiPhO)" loading="lazy" scrolling="no" style="overflow: hidden; width: 100%; height: 100%;"></iframe>
            </div>
            <img class="chart-mobile-img" src="source_png/hipho.png" alt="High School Physics Olympiad Benchmark (HiPhO)">
        </div>

        <div class="content-section" style="margin-top: 2rem;">
            <p data-i18n="intro.p1"
               data-i18n-zh="物理学需要严格综合抽象定律和因果逻辑来模拟宇宙的行为。因此，解决复杂物理问题的能力是一个关键基准，它区分了仅仅检索信息的模型与能够进行真正的第一性原理推理的模型。<strong>奥林匹克级别的竞赛</strong>，如<strong>国际物理奥林匹克（IPhO）</strong>，是评估语言模型物理推理能力的重要替代指标，这些问题需要深刻的概念理解和精确的系统分解。"
               data-i18n-en="Physics demands a rigorous synthesis of abstract laws and causal logic to model the behavior of the universe. Consequently, the ability to solve complex physics problems serves as a critical benchmark, distinguishing models that merely retrieve information from those capable of genuine, first-principles reasoning. <strong>Olympiad-level competitions</strong>, such as <strong>the International Physics Olympiad (IPhO)</strong> serve as a significant surrogate to evaluate the physics reasoning capacity of language models, where problems demand deep conceptual understanding and precise system decomposition."></p>

            <p data-i18n="intro.p2"
               data-i18n-zh="今天，我们推出<strong>P1-VL</strong>，一个专为高级科学推理而设计的开源视觉-语言模型系列。我们的方法将<strong>课程强化学习</strong>（采用渐进式难度扩展以稳定训练后阶段）与<strong>智能体增强</strong>相结合，在推理时实现迭代式自我验证。在HiPhO（2024-2025年13场考试的严格基准）上评估，我们的旗舰模型<strong>P1-VL-235B-A22B</strong>成为首个获得<strong>12枚金牌</strong>的开源视觉-语言模型（VLM），在模型排行榜中排名<strong>第3</strong>，有效解决了需要精确图表到逻辑对齐的任务。值得注意的是，独立的P1-VL超越了之前基于智能体增强的文本基线，而我们的智能体增强系统达到<strong>总体排名第2</strong>，仅次于Gemini-3-Pro。此外，我们的<strong>P1-VL-235B-A22B+PhysicsMinions</strong>在多学科基准 FrontierScience-Olympiad 上在顶尖开源模型中取得了最优性能，在科学推理方面表现优异。"
               data-i18n-en="Today, we introduce <strong>P1-VL</strong>, a family of open-source vision-language models engineered for advanced scientific reasoning. Our methodology harmonizes <strong>Curriculum Reinforcement Learning</strong>—which employs progressive difficulty expansion to stabilize post-training—with <strong>Agentic Augmentation</strong>, enabling iterative self-verification at inference. Evaluated on HiPhO, a rigorous benchmark of 13 exams from 2024–2025, our flagship <strong>P1-VL-235B-A22B</strong> becomes the first open-source Vision-Language Model VLM to secure <strong>12 gold medals</strong>, ranking <strong>No.3</strong> in the model leaderboard, effectively solving tasks that require precise diagram-to-logic alignment. Notably, the standalone P1-VL outperforms previous agent-enhanced text baselines, while our agent-augmented system achieves the <strong>No. 2 overall rank</strong> globally, trailing only Gemini-3-Pro. Besides, our <strong>P1-VL-235B-A22B+PhysicsMinions</strong> achieves the state-of-the-art performance on the  multi-disciplinary benchmark FrontierScience-Olympiad among the top open-source models, showing excellent performance in scientific reasoning."></p>

            <!-- <p data-i18n="intro.p2"
               data-i18n-zh="近日，上海 AI Lab 发布 P1 系列物理推理大模型及涵盖模型、算法、评测集和智能体框架的<strong>全链路开源体系</strong>，宣告在这一前沿领域取得历史性突破。其核心模型 <strong>P1-235B-A22B</strong> 在 <strong>HiPhO</strong> 基准（涵盖2024-2025年全球 13 场顶级物理竞赛）中取得<strong>12金1银</strong>的佳绩；与 Gemini-2.5-Pro 并列奖牌榜第一，超越了GPT-5、Grok-4等主流闭源模型。值得关注的是，该模型在 <strong>IPhO 2025</strong> 中成功摘金，成为<strong>首个也是唯一获得金牌的开源模型</strong>，证明了开源力量在顶尖科学推理任务上已达到甚至超越闭源模型的水平。同时，P1系列的中等模型 <strong>P1-30B-A3B</strong> 在IPhO 2025中也超越了现有开源模型，荣获银牌。"
               data-i18n-en="Shanghai AI Lab recently released the P1 series and a full-stack open-source ecosystem covering models, algorithms, benchmarks, and agents—marking a historic breakthrough. The flagship <strong>P1-235B-A22B</strong> achieved <strong>12 golds and 1 silver</strong> across 13 top contests on the <strong>HiPhO</strong> benchmark, tying Gemini-2.5-Pro for first and surpassing GPT-5 and Grok-4. Notably, it won gold at <strong>IPhO 2025</strong>, becoming the <strong>first and only open-source model</strong> to do so. The mid-sized <strong>P1-30B-A3B</strong> also outperformed existing open-source models at IPhO 2025, earning silver."></p>

            <p data-i18n="intro.p3"
               data-i18n-zh="此外，研究团队提出的<strong>协同进化多智能体系统 PhysicsMinions</strong>，为模型性能带来了显著提升。当 P1 模型与 PhysicsMinions 协同工作后，不仅在 <strong>IPhO 2025</strong> 中达到AI模型的世界第一，更在 <strong>HiPhO 综合得分上实现世界第一</strong>，以<strong>38.4分</strong>的成绩超越了<strong>Gemini-2.5-Pro（37.7分）</strong> 和 <strong>GPT-5（37.4分）</strong>，展现出&quot;模型+系统&quot;框架在应对复杂科学问题方面的强大通用性与潜力。"
               data-i18n-en="The team also proposes <strong>PhysicsMinions</strong>, a co-evolution multi-agent system that significantly boosts performance. With PhysicsMinions, P1 reaches No.1 among AI models at <strong>IPhO 2025</strong> and tops the <strong>HiPhO overall score</strong> with <strong>38.4</strong>, surpassing <strong>Gemini-2.5-Pro (37.7)</strong> and <strong>GPT-5 (37.4)</strong>, demonstrating the strong generality of the &quot;model + system&quot; paradigm for complex scientific problems."></p> -->
        </div>
        
        <!-- Model Download Section -->
        <div class="model-download-section">
            <div class="model-download-links">
                <a href="https://github.com/PRIME-RL/P1-VL" class="model-download-card" target="_blank" rel="noopener noreferrer">
                    <img src="imgs/github-mark-white.png" alt="GitHub" class="huggingface-icon">
                    <span class="model-download-card-title">P1-VL Official Repo</span>
                </a>
                <a href="https://huggingface.co/PRIME-RL/P1-VL-235B-A22B" class="model-download-card" target="_blank" rel="noopener noreferrer">
                    <img src="imgs/hf-logo.png" alt="Hugging Face" class="huggingface-icon">
                    <span class="model-download-card-title">P1-VL-235B-A22B</span>
                </a>
                <a href="https://huggingface.co/PRIME-RL/P1-VL-30B-A3B" class="model-download-card" target="_blank" rel="noopener noreferrer">
                    <img src="imgs/hf-logo.png" alt="Hugging Face" class="huggingface-icon">
                    <span class="model-download-card-title">P1-VL-30B-A3B</span>
                </a>
            </div>
        </div>
        
        <h2 data-i18n="section.fullstack.title"
            data-i18n-zh="P1-VL生态系统"
            data-i18n-en="P1-VL Ecosystem">P1-VL生态系统</h2>

        <h3 data-i18n="section.hipho.title"
            data-i18n-zh="首个物理奥赛基准测试：HiPhO"
            data-i18n-en="The First Physics Olympiad Benchmark: HiPhO">首个物理奥赛基准测试：HiPhO</h3>

        <p data-i18n="hipho.p1"
           data-i18n-zh="为了准确评估物理奥赛的表现，研究团队构建了<strong>HiPhO</strong>（High School Physics Olympiad）基准测试，这是首个专注于最新物理奥赛、采用人类对齐评估的基准。"
           data-i18n-en="To accurately evaluate performance in physics olympiads, the team built <strong>HiPhO</strong> (High School Physics Olympiad), the first benchmark focused on recent olympiads with human-aligned evaluation."></p>

        <p data-i18n="hipho.p2"
           data-i18n-zh="HiPhO 汇编了 2024-2025 年最新的 13 场奥林匹克级别的物理竞赛，包括 IPhO、APhO、EuPhO 等国际和区域赛事。评估时采用官方评分标准，对答案和过程进行细粒度评分，与人类评审严格对齐，确保得分准确。由此，每个模型的考试得分可直接与人类选手以及金银铜牌分数线进行比较。"
           data-i18n-en="HiPhO compiles 13 olympiad-level contests from 2024–2025 including IPhO, APhO, and EuPhO. Using official rubrics, it scores answers and processes with fine-grained, human-aligned criteria, allowing direct comparison with human contestants and medal cutoffs."></p>

        <p data-i18n="hipho.more"
           data-i18n-zh="更多细节内容和 HiPhO 排行榜请参见以下链接："
           data-i18n-en="For more details and the HiPhO leaderboard, see the links below:"></p>

        <div class="external-links">
            <a href="https://arxiv.org/abs/2509.07894" class="btn-external" target="_blank" rel="noopener noreferrer">
                <span data-i18n="links.paper" data-i18n-zh="论文" data-i18n-en="Paper">论文</span>
                <svg class="external-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
                </svg>
            </a>
            <a href="https://huggingface.co/datasets/SciYu/HiPhO" class="btn-external" target="_blank" rel="noopener noreferrer">
                <span data-i18n="links.dataset" data-i18n-zh="数据集" data-i18n-en="Dataset">数据集</span>
                <svg class="external-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
                </svg>
            </a>
            <a href="https://phyarena.github.io/" class="btn-external" target="_blank" rel="noopener noreferrer">
                <span data-i18n="links.leaderboard" data-i18n-zh="排行榜" data-i18n-en="Leaderboard">排行榜</span>
                <svg class="external-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
                </svg>
            </a>
        </div>


        <h3 data-i18n="section.p1.title"
            data-i18n-zh="课程强化学习"
            data-i18n-en="Curriculum Reinforcement Learning">课程强化学习</h3>

        <p data-i18n="training.p1"
           data-i18n-zh="P1-VL 团队通过高质量的提取和标注流程，构建了包含数千条奥赛级别和本科生物理题目的训练数据集。每条数据均具有完整的上下文信息、可验证答案、图像以及标准解题过程，用于强化学习训练。"
           data-i18n-en="The P1-VL team built a training dataset of thousands of olympiad-level and undergraduates physics problems through high-quality extraction and annotation, each with full context, verifiable answers, images, and standard solution processes for RL training."></p>

        <p data-i18n="training.p2"
           data-i18n-zh="P1-VL采用多阶段强化学习流程进行训练。为了实现稳定高效的训练，团队在每个阶段应用三项关键策略："
           data-i18n-en="P1-VL is trained with a Curriculum RL process. To ensure stable and efficient training, three key strategies are applied at each stage:"></p>
        
        <ul>
            <li data-i18n="training.li1"
                data-i18n-zh="<strong>难度扩展：</strong> 修剪简单样本，逐步扩展物理任务的难度，以提高训练效率和稳定性。"
                data-i18n-en="<strong>Difficulty expansion:</strong> Pruning the trivial samples, and expanding the difficulty of the physics tasks step by step to improve the training efficiency and stability."></li>
            <li data-i18n="training.li1"
                data-i18n-zh="<strong>上下文窗口扩展：</strong> 随着训练的推进，逐步扩展模型最大生成长度，使模型能够探索更长的推理链。这种扩展提高了高复杂度问题的可解性，减少了因截断导致的错误。"
                data-i18n-en="<strong>Context window expansion:</strong> Gradually increase the max generation length as training progresses, enabling longer chains of reasoning and reducing truncation errors."></li>
            <li data-i18n="training.li2"
                data-i18n-zh="<strong>序列级掩码重要性采样：</strong> 应用Seq-MIS以提高训练稳定性，实现健康的增长曲线。"
                data-i18n-en="<strong>Sequence-level Masked Importance Sampling:</strong> Apply the Seq-MIS to improve the training stability, resulting in a health growing curve."></li>
        </ul>
        
        <div class="article-image-container" onclick="openLightbox(this)">
            <img id="dynamicsImage" class="article-image" src="imgs/dynamics_black.png" alt="PhysicsMinions系统架构">
            <div class="image-caption" data-i18n="img.pm.caption"
                 data-i18n-zh="图三：PhysicsMinions 协同进化多智能体系统概览，展示了三个模块之间的交互流程。"
                 data-i18n-en="Figure 3: Overview of the PhysicsMinions co-evolution multi-agent system and the interaction among its three modules.">图三：PhysicsMinions 协同进化多智能体系统概览，展示了三个模块之间的交互流程。</div>
        </div>


        <h3 data-i18n="section.pm.title"
            data-i18n-zh="协同进化的多智能体系统：PhysicsMinions"
            data-i18n-en="Co-Evolution Multi-Agent System: PhysicsMinions">协同进化的多智能体系统：PhysicsMinions</h3>

        <p data-i18n="pm.p1"
			data-i18n-zh="为了突破单模型推理的局限, P1-VL 引入了 <strong>PhysicsMinions</strong>：这是一个协同进化的多模态多智能体系统。它通过结构化感知、双阶段验证和迭代优化，显著增强了推理能力："
			data-i18n-en="To overcome the limitations of single-model inference, P1-VL is augmented with <strong>PhysicsMinions</strong>, a coevolutionary multimodal multi-agent system that enhances test-time reasoning through structured perception, dual-stage verification, and iterative refinement."></p>

        <ul>
            <li data-i18n="pm.li1"
				data-i18n-zh="<strong>视觉模块 (Visual Studio)</strong> – 执行结构化视觉感知，通过观察、验证并将图表或图像细化为符号表示（在无视觉输入时为可选）。"
				data-i18n-en="<strong>Visual Studio</strong> – Performs structured visual perception by observing, validating, and refining diagrams or plots into symbolic representations (optional when no visual input is present)."></li>
            <li data-i18n="pm.li2"
				data-i18n-zh="<strong>逻辑模块 (Logic Studio)</strong> – 生成初始解决方案，并通过自我反思和针对性修订进行迭代改进。"
				data-i18n-en="<strong>Logic Studio</strong> – Generates an initial solution and iteratively improves it via self-reflection and targeted revision."></li>
            <li data-i18n="pm.li3"
				data-i18n-zh="<strong>审核模块 (Review Studio)</strong> – 执行<strong>双阶段验证</strong>：由“领域验证器”（如物理验证器）检查科学一致性，以及“通用验证器”核对逻辑连贯性、推导过程和数值准确性。"
				data-i18n-en="<strong>Review Studio</strong> - Performs <strong>dual-stage verification</strong> with two dedicated verifiers: a Domain-Verifier (e.g., Physics-Verifier) that checks scientific consistency, and a General-Verifier that validates logical coherence, derivations, and numerical correctness."></li>
        </ul>

        <p data-i18n="pm.p2"
			data-i18n-zh="除了物理奥赛任务，PhysicsMinions 还能自然扩展至<strong>更广泛的科学场景</strong>。通过动态选择领域特定的验证器和解题提示词，该智能体框架在保持统一协同进化结构的同时，支持物理、化学和生物等各类异构问题。"
			data-i18n-en="Beyond physics Olympiad tasks, PhysicsMinions naturally extends to <strong>broader scientific scenarios</strong>. By dynamically selecting domain-specific verifiers and solver prompts, the agentic framework supports heterogeneous problems in physics, chemistry, and biology while maintaining a unified coevolutionary structure."></p>

        <p data-i18n="pm.more"
           data-i18n-zh="更多细节请参见论文："
           data-i18n-en="For more details, see the paper:"></p>

        <div class="external-links">
            <a href="https://arxiv.org/abs/2509.24855" class="btn-external" target="_blank" rel="noopener noreferrer">
                <span data-i18n="links.pm.paper" data-i18n-zh="论文" data-i18n-en="Paper">论文</span>
                <svg class="external-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
                </svg>
            </a>
        </div>

        <!-- <div class="article-image-container" onclick="openLightbox(this)">
            <img class="article-image" src="imgs/image 2.png" alt="PhysicsMinions系统架构">
            <div class="image-caption" data-i18n="img.pm.caption"
                 data-i18n-zh="图三：PhysicsMinions 协同进化多智能体系统概览，展示了三个模块之间的交互流程。"
                 data-i18n-en="Figure 3: Overview of the PhysicsMinions co-evolution multi-agent system and the interaction among its three modules.">图三：PhysicsMinions 协同进化多智能体系统概览，展示了三个模块之间的交互流程。</div>
        </div> -->

        <h2 data-i18n="section.results.title"
            data-i18n-zh="评测结果"
            data-i18n-en="Results">评测结果</h2>

        <h3 data-i18n="results.p1.title"
            data-i18n-zh="P1-VL 模型展现顶级物理推理能力"
            data-i18n-en="P1-VL Models Demonstrate Top-Tier Physics Reasoning">P1-VL 模型展现顶级物理推理能力</h3>

        <p data-i18n="results.p1.desc"
           data-i18n-zh="下表总结了在 HiPhO 基准上所有竞赛的平均表现，展示出 P1-VL 模型和多智能体系统的出色性能。"
           data-i18n-en="The table below summarizes average performance across all HiPhO contests, showcasing strong results from P1 models and the multi-agent system."></p>

        <div class="interactive-chart-container">
            <div class="chart-iframe-wrapper" style="height: 150vh; padding-bottom: 0;">
                <iframe class="chart-iframe" src="leaderboard.html" title="HiPhO Leaderboard" loading="lazy"></iframe>
            </div>
            <img class="chart-mobile-img" src="source_png/hipho_table.png" alt="HiPhO Leaderboard">
            <div class="chart-caption" data-i18n="img.results.caption"
                 data-i18n-zh="图四：P1-VL系列模型在 HiPhO 基准测试上的综合表现，包括与开源和闭源模型的对比。"
                 data-i18n-en="Figure 4: Overall HiPhO benchmark performance of P1-VLseries models, compared with open- and closed-source models.">图四：P1系列模型在 HiPhO 基准测试上的综合表现，包括与开源和闭源模型的对比。</div>
        </div>

        <ul>
            <li>
                <strong data-i18n="results.p1.b1.title"
                        data-i18n-zh="开源新王登基：P1-VL-235B-A22B 在物理推理中排名第三。"
                        data-i18n-en="A new open-source champion: P1-VL-235B-A22B ranks 3rd in physics reasoning.">开源新王登基：P1-VL-235B-A22B 在物理推理中排名第三</strong>
                <p data-i18n="results.p1.b1.p"
                   data-i18n-zh="<strong>P1-VL-235B-A22B</strong> 在所有评估模型中排名<strong>第3</strong>，仅次于 Gemini-3-Pro 和 GPT-5.2。获得<strong>12金1银</strong>（平均得分：39.3），超越了主要专有模型，如 Gemini-2.5-Pro（37.7）、GPT-5（37.4）和 Grok-4（35.8），并在开源模型中实现了最先进的性能。"
                   data-i18n-en="<strong>P1-VL-235B-A22B</strong> ranks <strong>3rd</strong> among all evaluated models, following only Gemini-3-Pro and GPT-5.2. With <strong>12 gold and 1 silver</strong> medals (average score: 39.3), it surpasses major proprietary models such as Gemini-2.5-Pro (37.7), GPT-5 (37.4), and Grok-4 (35.8), and achieves the state-of-the-art performance among the open-source models."></p>
            </li>
            <li>
                <strong data-i18n="results.p1.b2.title"
                        data-i18n-zh="以小博大，实力超群：P1-VL-30B-A3B 中型模型性能超越部分闭源模型。"
                        data-i18n-en="Punching above its weight: P1-VL-30B-A3B outperforms some closed-source models.">以小博大，实力超群：P1-VL-30B-A3B 中型模型性能超越部分闭源模型</strong>
                <p data-i18n="results.p1.b2.p"
                   data-i18n-zh="<strong>P1-VL-30B-A3B</strong> 获得<strong>9金4银</strong>，平均得分为35.0。它在开源模型中排名第三，仅次于 P1-235B-A22B和DeepSeek-V3.2-Thinking。尽管规模较小，但它超越了更大的基线模型，如 Qwen3-VL-235B（33.9）和 Qwen3-Thinking（33.5），并超越了一些闭源模型，如 o4-mini 和 Gemini-2.5-Flash-Thinking，在科学推理方面表现出色。"
                   data-i18n-en="<strong>P1-VL-30B-A3B</strong> achieves <strong>9 gold and 4 silver</strong> medals with an average score of 35.0. It ranks second among open-source models, behind only P1-235B-A22B and DeepSeek-V3.2-Thinking. Despite its smaller size, it outperforms larger baselines such as  Qwen3-VL-235B (33.9) and Qwen3-Thinking (33.5), and outperforms some closed-source models such as o4-mini and Gemini-2.5-Flash-Thinking, showing excellent performance on scientific reasoning. "></p>
            </li>
            <li>
                <strong data-i18n="results.p1.b3.title"
                        data-i18n-zh="多智能体赋能模型性能飞跃：PhysicsMinions 系统助力P1-VL达到总体排名第二。"
                        data-i18n-en="Multi-agent boosts: PhysicsMinions helps P1-VL achieve the 2nd overall leaderboard.">多智能体赋能模型性能飞跃：PhysicsMinions 系统助力P1-VL达到总体排名第二</strong>
                <p data-i18n="results.p1.b3.p"
                   data-i18n-zh="通过<strong>PhysicsMinions</strong>的智能体增强，<strong>P1-VL-235B-A22B</strong>的平均得分从39.3提升至<strong>40.9</strong>，使其达到<strong>总体排名第2</strong>，超越了闭源模型<strong>Gemini-2.5-Pro（37.7）</strong>和<strong>GPT-5.2（40.6）</strong>。"
                   data-i18n-en="With the agentic augmentation of <strong>PhysicsMinions</strong>, the average score of <strong>P1-VL-235B-A22B</strong> improves from 39.3 to <strong>40.9</strong>, propelling it to the <strong>2nd rank globally</strong> and surpassing the closed-source <strong>Gemini-2.5-Pro (37.7)</strong> and <strong>GPT-5.2 (40.6)</strong>."></p>
            </li>
        </ul>

        <hr>

        <!-- <h3 data-i18n="section.general.title"
        data-i18n-zh="优越的科学推理能力"
        data-i18n-en="Excellent Scientific Reasoning Capabilities">优越的科学推理能力</h3>

        <p data-i18n="general.p2"
            data-i18n-zh="例如，在奥林匹克数学领域，P1-VL-235B-A22B 和 P1-VL-30B-A3B 在 AMOBench 上分别比其基座模型高出 8.5 和 7.5 分。这一模式证实了 P1-VL 系列不仅保留而且积极增强了目标物理领域之外的推理能力，甚至扩展到 IMO-AnswerBench 和 AMOBench 等数学挑战。优势不仅限于基于文本的推理，还显著扩展到视觉感知。以多图像推理任务 EMMA-Mini 为例，P1-VL-235B-A22B和P1-VL-30B-A3B比其基座模型获得了 1.7和3.4 分的显著提升。这一结果特别突出了模型在跨多个图像综合信息方面的增强能力，验证了我们的视觉-语言对齐在标准物理问题之外的鲁棒性。"
            data-i18n-en="Besides HiPhO, our <strong>P1-VL-235B-A22B+PhysicsMinions</strong> achieves the state-of-the-art performance on the  multi-disciplinary benchmark FrontierScience-Olympiad among the top open-source models, showing excellent performance in scientific reasoning. P1-VLs all showing superior performance compared with the base models, indicating their strong generalization capabilities across multiple domains."></p> -->
            <h3 data-i18n="section.general.title"
            data-i18n-zh="卓越的科学推理能力"
            data-i18n-en="Superior Scientific Reasoning Capabilities">
            卓越的科学推理能力
        </h3>
        
        <p data-i18n="general.p2"
            data-i18n-zh="除了在 HiPhO 上的表现，我们的 P1-VL-235B-A22B+PhysicsMinions 在多学科 FrontierScience-Olympiad 基准测试中也展现了极具竞争力的性能，在顶尖开源模型中位居前列。这表明模型在复杂科学推理上正不断缩小与闭源领先模型的差距。P1-VL 全系列均显著优于其基座模型，有力证明了其在多领域下的泛化能力以及我们针对物理领域优化的有效性。"
            data-i18n-en="Alongside its performance in HiPhO, P1-VL-235B-A22B+PhysicsMinions delivers highly competitive results on the FrontierScience-Olympiad benchmark, positioned as a leading contender among top-tier open-source models. It effectively narrows the gap with closed-source giants in complex scientific reasoning. Furthermore, the P1-VL series consistently outperforms its base models, showcasing strong generalization and the specific benefits of our physics-centered optimization.">
        </p>

        <div class="interactive-chart-container">
            <div class="chart-iframe-wrapper" style="max-width:1500px; margin: 0 auto; height: 480px; padding-bottom: 0; position: relative;">
                <iframe class="chart-iframe" src="source_html/frontier_science.html" title="FrontierScience-Olympiad Benchmark" loading="lazy" style="overflow: hidden;"></iframe>
            </div>
            <img class="chart-mobile-img" src="source_png/frontier.png" alt="FrontierScience-Olympiad Benchmark" style="max-width:1000px; margin: 0 auto;">
        </div>

    <hr>

        <h3 data-i18n="section.general.title"
            data-i18n-zh="通专融合，P1-VL模型通用能力持续提升"
            data-i18n-en="Generalized Specialists: P1-VL Continues to Improve General Capabilities">通专融合，P1-VL模型通用能力持续提升</h3>

        <p data-i18n="general.p1"
        data-i18n-zh="下面的图表总结了对比结果，说明我们的模型在纯文本和多模态基准测试中都持续超越其基座模型。"
        data-i18n-en="Below figures summarize the comparative results, illustrating that our models consistently surpass their base counterparts across both text-only and multi-modal benchmarks."></p>
     
     <p data-i18n="general.p2"
        data-i18n-zh="例如，在奥林匹克数学领域，P1-VL-235B-A22B 和 P1-VL-30B-A3B 在 AMOBench 上分别比其基座模型高出 8.5 和 7.5 分。这一模式证实了 P1-VL 系列不仅保留而且积极增强了目标物理领域之外的推理能力，甚至扩展到 IMO-AnswerBench 和 AMOBench 等数学挑战。优势不仅限于基于文本的推理，还显著扩展到视觉感知。以多图像推理任务 EMMA-Mini 为例，P1-VL-235B-A22B和P1-VL-30B-A3B比其基座模型获得了 1.7和3.4 分的显著提升。这一结果特别突出了模型在跨多个图像综合信息方面的增强能力，验证了我们的视觉-语言对齐在标准物理问题之外的泛化性。"
        data-i18n-en="For example, in the domain of olympiad mathematics, P1-VL-235B-A22B and P1-VL-30B-A3B outperform their respective baselines on AMOBench by margins of 8.5 and 7.5 points. This pattern confirms that the P1-VL series not only retains but actively enhances reasoning capabilities beyond the target physics domain, extending even to rigorous challenges such as IMO-AnswerBench and AMOBench. 
        The advantage is not limited to text-based reasoning but extends significantly to visual perception. Taking the multi-image reasoning task EMMA-Mini as a prime example, P1-VL-235B-A22B and P1-VL-30B-A3B achieve a substantial gain of 1.7 and 3.4 points over their baselines. This result specifically highlights the model's enhanced capacity to synthesize information across multiple images, validating the generalization of our vision-language alignment beyond standard physics problems."></p>
     

        <h4 data-i18n="general.p3"
        <div class="interactive-chart-container">
            <div class="chart-iframe-wrapper" style="max-width:1500px; margin: 0 auto; height: 500px; padding-bottom: 0; position: relative;">
                <iframe class="chart-iframe" src="source_html/general_30b.html" title="P1-VL-30B-A3B vs Qwen3-VL-30B-A3B Performance Comparison" loading="lazy"></iframe>
            </div>
            <img class="chart-mobile-img" src="source_png/general_30b.png" alt="P1-VL-30B-A3B vs Qwen3-VL-30B-A3B Performance Comparison" style="max-width:1000px; margin: 0 auto;">
            <!-- <div class="chart-caption" style="font-size: 18px; font-weight: 600;" data-i18n="img.general.caption" data-i18n-zh="P1-30B 通用能力对比" data-i18n-en="P1-VL-30B general capability comparison">P1-30B 通用能力对比</div> -->
        </div>

        

        <!-- <p data-i18n="general.p2"
           data-i18n-zh="同样，P1-235B-A22B在各项基准测试上也展现出优异的通用能力。如下图所示，P1-235B-A22B相比于其基座模型Qwen3-235B-A22B-Thinking-2507，在多项任务上取得了更好的表现，进一步验证了P1系列模型的强大泛化能力。"
           data-i18n-en="Similarly, P1-235B-A22B demonstrates excellent general capabilities across various benchmarks. As shown below, P1-VL-235B-A22B achieves better performance than its base model Qwen3-235B-A22B-Thinking-2507 on multiple tasks, further validating the strong generalization of P1 series models."></p> -->

        <div class="interactive-chart-container">
            <div class="chart-iframe-wrapper" style="max-width:1500px; margin: 0 auto; height: 500px; padding-bottom: 0; position: relative;">
                <iframe class="chart-iframe" src="source_html/general_235b.html" title="P1-VL-235B-A22B vs Qwen3-VL-235B-A22B-Thinking Performance Comparison" loading="lazy"></iframe>
            </div>
            <img class="chart-mobile-img" src="source_png/general_235b.png" alt="P1-VL-235B-A22B vs Qwen3-VL-235B-A22B-Thinking Performance Comparison" style="max-width:1000px; margin: 0 auto;">
            <!-- <div class="chart-caption" style="font-size: 18px; font-weight: 600;" data-i18n="img.general235b.caption" data-i18n-zh="P1-235B 通用能力对比" data-i18n-en="P1-VL-235B general capability comparison">P1-235B 通用能力对比</div> -->
        </div>

        <hr>

                <!-- Case Study Section -->
        <h3 data-i18n="casestudy.title"
            data-i18n-zh="案例研究"
            data-i18n-en="Case Study">案例研究</h3>
            
            <!-- Case 1: Black Widow Pulsar Problem Statement -->
            <div class="case-study-problem">
                <div class="case-study-problem-title">
                    <a href="https://ipho.olimpicos.net/pdf/IPhO_2025_Q1.pdf" target="_blank" rel="noopener noreferrer" style="color: inherit; text-decoration: none; border-bottom: 2px solid var(--primary-color); transition: opacity 0.2s;">
                        Hydrogen and galaxies (IPhO 2025 Q1)
                    </a>
                </div>
                <div class="case-study-problem-content">
                    <!-- Context Toggle Button -->
                    <button class="context-toggle" onclick="toggleContext('pulsar-problem-context')">
                        <span data-i18n="casestudy.context.toggle" data-i18n-zh="查看完整题目背景" data-i18n-en="View Full Problem Context">查看完整题目背景</span>
                        <svg class="context-toggle-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </button>
                    
                    <!-- Collapsible Context Section -->
                    <div class="context-content" id="pulsar-problem-context">
                        <div class="context-inner">
                            <h4>Background</h4>
                            <p>This problem aims to study the peculiar physics of galaxies, such as their dynamics and structure. In
                                particular, we explain how to measure the mass distribution of our galaxy from the inside. For this we
                                will focus on hydrogen, its main constituent.</p>
                            <p><img src="case_study/case/IPhO_2025_1_b_1.png" alt="figure7" style="max-width: 60%; height: auto; margin: 20px 0;">
                            
                            <h4>Part D - Tully-Fisher relation and MOND theory</h4>
                            <p>The flat external velocity curve of NGC 6946 in Fig. 1 is a common property of spiral galaxies, as can
                                be seen in Fig. 4 (left). Plotting the external constant velocity value $v_{c,\infty}$ as a function of the measured
                                total mass $𝑀_{tot}$ of each galaxy gives an interesting correlation called the Tully-Fischer relation, see Fig. 4
                                (right)</p>
                            <p><img src="case_study/case/IPhO_2025_1_d_1.png" alt="figure7" style="max-width: 60%; height: auto; margin: 20px 0;">

                        </div>
                    </div>
                    <!-- End of Collapsible Context -->
                    
                    <h4 style="margin-top: 20px;">Question</h4>
                    <div class="problem-question">
                        Let 𝑚 be a mass on a circular orbit of radius $𝑟$ with velocity $𝑣_{𝑐,\infty}$ in the gravity
field of a fixed mass $𝑀$.
Within the MOND theory, with 𝑎 ≪ $𝑎_0$
, determine the Tully-Fischer exponent.
Using data for NGC 6946 and/or Tully-Fischer law, calculate $𝑎_0$
to show that
MOND operates in the correct regime.
                    </div>
                </div>
            </div>

            <!-- Models Grid for Black Widow Pulsar -->
            <div class="models-grid">
                <!-- P1 Model Card -->
                <div class="model-card">
                    <div class="model-header">
                        <div class="model-name">P1-VL</div>
                        <div class="model-score perfect">
                            <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                            </svg>
                            <span>0.8 pt</span>
                        </div>
                    </div>
                    <div class="answer-section">
                        <div class="answer-title" data-i18n="casestudy.answer" data-i18n-zh="答案" data-i18n-en="Answer">答案</div>
                        <div class="answer-content">
                            <div class="answer-item">(1) $\gamma_{\text{MOND}} = 4$</div>
                            <div class="answer-item">(2) $a_0 = \frac{v_{c,\infty}^4}{G M_{\text{tot}}}$</div>
                            <div class="answer-item">(3) $a_0 = 1.2 \times 10^{-10}$ m/s²</div>
                        </div>
                    </div>
                    <div class="evaluation-section">
                        <div class="evaluation-title" data-i18n="casestudy.evaluation" data-i18n-zh="评估标准" data-i18n-en="Evaluation Criteria">评估标准</div>
                        <div class="evaluation-criteria">
                            <div class="criterion-item">
                                <svg class="criterion-icon correct" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                                <span>Award 0.1 pt if the answer considers the hypothesis $a \ll a_0$. Otherwise, award 0 pt.</span>
                            </div>
                            <div class="criterion-item">
                                <svg class="criterion-icon correct" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                                <span>Award 0.1 pt if the answer applies the Newton's second law and derives $G \frac{M}{r^2} m = m \frac{a^2}{a_0}$. Otherwise, award 0 pt.</span>
                            </div>
                            <div class="criterion-item">
                                <svg class="criterion-icon correct" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                                <span>Award 0.1 pt if the answer correctly gives the expression for $v_{c,\infty}$ as $v_{c,\infty} = (a_0 G M)^{1/4}$. Otherwise, award 0 pt.</span>
                            </div>
                            <div class="criterion-item">
                                <svg class="criterion-icon correct" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                                <span>Award 0.1 pt if the answer correctly gives the numerical value for $\gamma_{\text{MOND}}$ as $\gamma_{\text{MOND}} = 4$. Otherwise, award 0 pt.</span>
                            </div>
                            <div class="criterion-item">
                                <svg class="criterion-icon correct" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                                <span>Award 0.1 pt if the answer correctly gives the numerical value for $\log_{10}(v_{c,\infty} / {1 \mathrm{km/s}}) = 2.2$. Otherwise, award 0 pt.</span>
                            </div>
                            <div class="criterion-item">
                                <svg class="criterion-icon correct" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                                <span>Award 0.1 pt if the answer correctly gives the numerical value for $\log_{10}(M_{\text{tot}} / M_{\odot}) = 10.5$. Otherwise, award 0 pt.</span>
                            </div>
                            <div class="criterion-item">
                                <svg class="criterion-icon correct" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                                <span>Award 0.1 pt if the answer correctly gives the expression for $a_0$ as $a_0 = \frac{v_{c,\infty}^4}{G M_{\text{tot}}}$. Otherwise, award 0 pt.</span>
                            </div>
                            <div class="criterion-item">
                                <svg class="criterion-icon correct" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                                <span>Award 0.1 pt if the answer correctly gives the numerical value for $a_0$ within the range $[10^{-10.5}, 10^{-9.5}]$. Otherwise, award 0 pt.</span>
                            </div>
                        </div>
                        <div style="margin-top: var(--space-md); font-weight: 600; color: var(--text-primary);">
                            <span data-i18n="casestudy.total.score" data-i18n-zh="总分" data-i18n-en="Total Score">总分</span>: <strong>0.8 pt</strong>
                        </div>
                    </div>
                    <div class="solution-section">
                        <button class="solution-toggle" onclick="toggleSolution('pulsar-p1-solution')">
                            <span data-i18n="casestudy.view.solution" data-i18n-zh="查看完整解答" data-i18n-en="View Full Solution">查看完整解答</span>
                            <svg class="solution-toggle-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>
                        <div class="solution-content" id="pulsar-p1-solution">
                            <div class="solution-inner">
                                <p>To address the problem, we examine the MOND theory's implications for the Tully-Fischer relation and derive the necessary expressions and numerical values based on the given data.</p>
                                
                                <h5><strong>(1) Tully-Fischer Exponent under MOND</strong></h5>
                                <p>In MOND theory, the gravitational force is related to the acceleration through the modified second law:</p>
                                <p>$$F = m \mu\left(\frac{a}{a_0}\right) a,$$</p>
                                <p>where $\mu(x) = \frac{x}{1+x}$ and $a_0$ is the critical acceleration. In the deep-MOND regime ($a \ll a_0$), $\mu(a/a_0) \approx a/a_0$, leading to:</p>
                                <p>$$F = \frac{m a^2}{a_0}.$$</p>
                                <p>For a circular orbit, the centripetal acceleration is $a = v^2 / r$, and the gravitational force is $F = G M m / r^2$. Equating these:</p>
                                <p>$$\frac{G M m}{r^2} = \frac{m (v^2 / r)^2}{a_0} \Rightarrow G M = \frac{v^4}{a_0}.$$</p>
                                <p>Solving for $M$, we obtain:</p>
                                <p>$$M = \frac{v^4}{G a_0}.$$</p>
                                <p>This implies that the total mass $M$ scales with the fourth power of the rotation velocity $v$. Therefore, the Tully-Fischer exponent is:</p>
                                <p>$$\boxed{4}$$</p>
                                <p>To verify that MOND operates in the correct regime for NGC 6946, we estimate $a_0$ using the observed flat rotation velocity $v_{c,\infty} = 150 \, \text{km/s} = 1.5 \times 10^5 \, \text{m/s}$ and the total baryonic mass inferred from the Tully-Fischer relation.</p>
                                <p>From Fig. 4, at $v_{c,\infty} = 150 \, \text{km/s}$, the corresponding total mass is approximately $M_{\text{tot}} = 3.16 \times 10^{10} \, M_\odot$. Converting to kilograms:</p>
                                <p>$$M = 3.16 \times 10^{10} \times 1.99 \times 10^{30} \approx 6.3 \times 10^{40} \, \text{kg}.$$</p>
                                <p>Using $G = 6.67 \times 10^{-11} \, \text{m}^3 \text{kg}^{-1} \text{s}^{-2}$, we calculate $a_0$:</p>
                                <p>$$a_0 = \frac{v_{c,\infty}^4}{G M} = \frac{(1.5 \times 10^5)^4}{6.67 \times 10^{-11} \times 6.3 \times 10^{40}}.$$</p>
                                <p>$$v^4 = (1.5)^4 \times 10^{20} = 5.06 \times 10^{20} \, \text{m}^4/\text{s}^4,$$</p>
                                <p>$$G M = 4.2 \times 10^{30} \, \text{m}^3/\text{s}^2,$$</p>
                                <p>$$a_0 = \frac{5.06 \times 10^{20}}{4.2 \times 10^{30}} \approx 1.2 \times 10^{-10} \, \text{m/s}^2.$$</p>
                                <p>This value matches the expected order of magnitude for $a_0$, confirming that the observed acceleration $a = v^2 / r$ in the outer regions of NGC 6946 (e.g., $a \sim 7 \times 10^{-11} \, \text{m/s}^2$ at $r = 10 \, \text{kpc}$) is in the MOND regime ($a \ll a_0$).</p>
                                
                                <h5><strong>(2) Expression for $a_0$</strong></h5>
                                <p>From the MOND analysis for circular motion in the deep-MOND regime, we derived the relation:</p>
                                <p>$$M = \frac{v_{c,\infty}^4}{G a_0}.$$</p>
                                <p>Solving for $a_0$, the expression for the critical acceleration is:</p>
                                <p>$$\boxed{a_0 = \frac{v_{c,\infty}^4}{G M_{\text{tot}}}}$$</p>
                                <p>This expression links the critical MOND acceleration to the observed rotation velocity and the total baryonic mass of the galaxy.</p>
                                
                                <h5><strong>(3) Numerical Value of $a_0$</strong></h5>
                                <p>Using the observed values for NGC 6946:</p>
                                <ul>
                                    <li>$v_{c,\infty} = 1.5 \times 10^5 \, \text{m/s}$,</li>
                                    <li>$M_{\text{tot}} \approx 6.3 \times 10^{40} \, \text{kg}$,</li>
                                    <li>$G = 6.67 \times 10^{-11} \, \text{m}^3 \text{kg}^{-1} \text{s}^{-2}$,</li>
                                </ul>
                                <p>we compute:</p>
                                <p>$$a_0 = \frac{(1.5 \times 10^5)^4}{6.67 \times 10^{-11} \times 6.3 \times 10^{40}} = \frac{5.06 \times 10^{20}}{4.2 \times 10^{30}} \approx 1.2 \times 10^{-10} \, \text{m/s}^2.$$</p>
                                <p>Thus, the numerical value of $a_0$ is:</p>
                                <p>$$\boxed{1.2 \times 10^{-10}}$$</p>
                                <p>This value is consistent with the MOND prediction and confirms that the galaxy operates in the MOND regime.</p>
                                
                                <h5><strong>Final Answers</strong></h5>
                                <p>(1) The Tully-Fischer exponent within MOND is $\boxed{4}$. Using NGC 6946 data, the calculation confirms that MOND operates in the correct regime.</p>
                                <p>(2) The expression for $a_0$ is $\boxed{a_0 = \frac{v_{c,\infty}^4}{G M_{\text{tot}}}}$.</p>
                                <p>(3) The numerical value of $a_0$ is $\boxed{1.2 \times 10^{-10}}$ m/s².</p>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Gemini-3-Pro Model Card -->
                <div class="model-card">
                    <div class="model-header">
                        <div class="model-name">Gemini-3-Pro</div>
                        <div class="model-score partial">
                            <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
                            </svg>
                            <span>0.5 pt</span>
                        </div>
                    </div>
                    <div class="answer-section">
                        <div class="answer-title" data-i18n="casestudy.answer" data-i18n-zh="答案" data-i18n-en="Answer">答案</div>
                        <div class="answer-content">
                            <div class="answer-item">(1) $\gamma_{\text{MOND}} = 4$</div>
                            <div class="answer-item">(2) $a_0 = \frac{v_{c,\infty}^4}{GM}$</div>
                            <div class="answer-item">(3) $a_0 = 3.8 \times 10^{-9}$ m/s²</div>
                        </div>
                    </div>
                    <div class="evaluation-section">
                        <div class="evaluation-title" data-i18n="casestudy.evaluation" data-i18n-zh="评估标准" data-i18n-en="Evaluation Criteria">评估标准</div>
                        <div class="evaluation-criteria">
                            <div class="criterion-item">
                                <svg class="criterion-icon correct" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                                <span>Award 0.1 pt if the answer considers the hypothesis $a \ll a_0$. Otherwise, award 0 pt.</span>
                            </div>
                            <div class="criterion-item">
                                <svg class="criterion-icon correct" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                                <span>Award 0.1 pt if the answer applies the Newton's second law and derives $G \frac{M}{r^2} m = m \frac{a^2}{a_0}$. Otherwise, award 0 pt.</span>
                            </div>
                            <div class="criterion-item">
                                <svg class="criterion-icon correct" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                                <span>Award 0.1 pt if the answer correctly gives the expression for $v_{c,\infty}$ as $v_{c,\infty} = (a_0 G M)^{1/4}$. Otherwise, award 0 pt.</span>
                            </div>
                            <div class="criterion-item">
                                <svg class="criterion-icon correct" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                                <span>Award 0.1 pt if the answer correctly gives the numerical value for $\gamma_{\text{MOND}}$ as $\gamma_{\text{MOND}} = 4$. Otherwise, award 0 pt.</span>
                            </div>
                            <div class="criterion-item">
                                <svg class="criterion-icon incorrect" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                                </svg>
                                <span>Award 0.1 pt if the answer correctly gives the numerical value for $\log_{10}(v_{c,\infty} / {1 \mathrm{km/s}}) = 2.2$. Otherwise, award 0 pt.</span>
                            </div>
                            <div class="criterion-item">
                                <svg class="criterion-icon incorrect" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                                </svg>
                                <span>Award 0.1 pt if the answer correctly gives the numerical value for $\log_{10}(M_{\text{tot}} / M_{\odot}) = 10.5$. Otherwise, award 0 pt.</span>
                            </div>
                            <div class="criterion-item">
                                <svg class="criterion-icon correct" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                                <span>Award 0.1 pt if the answer correctly gives the expression for $a_0$ as $a_0 = \frac{v_{c,\infty}^4}{G M_{\text{tot}}}$. Otherwise, award 0 pt.</span>
                            </div>
                            <div class="criterion-item">
                                <svg class="criterion-icon incorrect" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                                </svg>
                                <span>Award 0.1 pt if the answer correctly gives the numerical value for $a_0$ within the range $[10^{-10.5}, 10^{-9.5}]$. Otherwise, award 0 pt.</span>
                            </div>
                        </div>
                        <div style="margin-top: var(--space-md); font-weight: 600; color: var(--text-primary);">
                            <span data-i18n="casestudy.total.score" data-i18n-zh="总分" data-i18n-en="Total Score">总分</span>: <strong>0.5 pt</strong>
                        </div>
                    </div>
                    <div class="solution-section">
                        <button class="solution-toggle" onclick="toggleSolution('pulsar-gemini3pro-solution')">
                            <span data-i18n="casestudy.view.solution" data-i18n-zh="查看完整解答" data-i18n-en="View Full Solution">查看完整解答</span>
                            <svg class="solution-toggle-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>
                        <div class="solution-content" id="pulsar-gemini3pro-solution">
                            <div class="solution-inner">
                                <h5><strong>(1) Determination of Tully-Fisher exponent $\gamma_{\text{MOND}}$:</strong></h5>
                                <p>Consider a mass $m$ in a circular orbit of radius $r$ around a galaxy of baryonic mass $M$. Newton's gravitational force is $F_N = \frac{GMm}{r^2}$. According to MOND theory, in the low acceleration regime ($a \ll a_0$), the force is modified such that $F_N = m \mu(\frac{a}{a_0}) a$. Approximating $\mu(x) \approx x$ for $x \ll 1$:</p>
                                <p>$$\frac{GMm}{r^2} = m \left( \frac{a}{a_0} \right) a = \frac{m a^2}{a_0}$$</p>
                                <p>For circular motion, the centripetal acceleration is $a = \frac{v^2}{r}$. Substituting this into the force equation:</p>
                                <p>$$\frac{GM}{r^2} = \frac{1}{a_0} \left( \frac{v^2}{r} \right)^2 = \frac{v^4}{a_0 r^2}$$</p>
                                <p>Simplifying by canceling $r^2$:</p>
                                <p>$$GM = \frac{v^4}{a_0} \implies M = \frac{1}{G a_0} v^4$$</p>
                                <p>This matches the Tully-Fisher relation $M \propto v^\gamma$ with an exponent:</p>
                                <p>$$\gamma_{\text{MOND}} = 4$$</p>
                                <p><strong>Check of MOND regime:</strong> Using the data for NGC 6946 from Fig. 1(B): The flat rotation velocity is approximately $v_{c,\infty} \approx 165 \, \mathrm{km/s}$. At the outer edge of the data, $r \approx 11 \, \mathrm{kpc}$. The observed acceleration is:</p>
                                <p>$$a_{\text{obs}} = \frac{v_{c,\infty}^2}{r} = \frac{(1.65 \times 10^5 \, \mathrm{m/s})^2}{11 \times 3.09 \times 10^{19} \, \mathrm{m}} \approx \frac{2.72 \times 10^{10}}{3.40 \times 10^{20}} \approx 0.8 \times 10^{-10} \, \mathrm{m/s^2}$$</p>
                                <p>This value is of the order of $a_0 = 10^{-10} \, \mathrm{m/s^2}$. Specifically, if $a_0 \approx 1.2 \times 10^{-10} \mathrm{m/s^2}$ (standard value) or slightly higher (as calculated below), the condition $a_{\text{obs}} \lesssim a_0$ holds, confirming the galaxy's outer region is in the MOND regime.</p>
                                <p>$$\boxed{4}$$</p>
                                
                                <h5><strong>(2) Expression for $a_0$:</strong></h5>
                                <p>From the derived MOND relation $GM = \frac{v_{c,\infty}^4}{a_0}$, we can write $a_0$ as:</p>
                                <p>$$a_0 = \frac{v_{c,\infty}^4}{GM}$$</p>
                                <p>Here, $M$ represents the total baryonic mass. Based on the problem description, the red curve in Fig. 1(B) represents the predicted Keplerian velocity due to the visible mass $M$. Let $v_{\text{pred}}(r)$ be the velocity from the red curve at a large radius $r$. Then $v_{\text{pred}}^2 = \frac{GM}{r}$, so $GM = r v_{\text{pred}}^2$. Substituting this into the expression for $a_0$:</p>
                                <p>$$a_0 = \frac{v_{c,\infty}^4}{r v_{\text{pred}}(r)^2}$$</p>
                                <p>$$\boxed{a_0 = \frac{v_{c,\infty}^4}{GM}}$$</p>
                                
                                <h5><strong>(3) Numerical value of $a_0$:</strong></h5>
                                <p>We use the data from Fig. 1(B) at a large radius, for example, $r = 10 \, \mathrm{kpc}$.</p>
                                <ul>
                                    <li>Observed velocity (flat part): $v_{c,\infty} \approx 165 \, \mathrm{km/s} = 1.65 \times 10^5 \, \mathrm{m/s}$.</li>
                                    <li>Predicted Newtonian velocity (red curve): $v_{\text{pred}} \approx 25 \, \mathrm{km/s} = 2.5 \times 10^4 \, \mathrm{m/s}$.</li>
                                    <li>Radius: $r = 10 \, \mathrm{kpc} = 10 \times 3.09 \times 10^{19} \, \mathrm{m} = 3.09 \times 10^{20} \, \mathrm{m}$.</li>
                                </ul>
                                <p>Using the derived formula with $GM = r v_{\text{pred}}^2$:</p>
                                <p>$$a_0 = \frac{(1.65 \times 10^5)^4}{(3.09 \times 10^{20}) (2.5 \times 10^4)^2}$$</p>
                                <p>$$a_0 = \frac{7.41 \times 10^{20}}{3.09 \times 10^{20} \times 6.25 \times 10^8}$$</p>
                                <p>$$a_0 = \frac{7.41 \times 10^{20}}{1.93 \times 10^{29}} \approx 3.8 \times 10^{-9} \, \mathrm{m/s^2}$$</p>
                                <p>(Note: This value is higher than the standard $a_0 \approx 1.2 \times 10^{-10} \mathrm{m/s^2}$, likely because the red curve model considers only the bulge mass, underestimating the total baryonic mass $M$. However, based on the provided curves, this is the calculated value.)</p>
                                <p>$$\boxed{3.8 \times 10^{-9}}$$</p>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- GPT-5.2 Model Card -->
                <div class="model-card">
                    <div class="model-header">
                        <div class="model-name">GPT-5.2</div>
                        <div class="model-score partial">
                            <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
                            </svg>
                            <span>0.5 pt</span>
                        </div>
                    </div>
                    <div class="answer-section">
                        <div class="answer-title" data-i18n="casestudy.answer" data-i18n-zh="答案" data-i18n-en="Answer">答案</div>
                        <div class="answer-content">
                            <div class="answer-item">(1) $\gamma_{\text{MOND}} = 4$</div>
                            <div class="answer-item">(2) $a_0 = \frac{v_{c,\infty}^2}{R}$</div>
                            <div class="answer-item">(3) $a_0 = 1.0 \times 10^{-10}$ m/s²</div>
                        </div>
                    </div>
                    <div class="evaluation-section">
                        <div class="evaluation-title" data-i18n="casestudy.evaluation" data-i18n-zh="评估标准" data-i18n-en="Evaluation Criteria">评估标准</div>
                        <div class="evaluation-criteria">
                            <div class="criterion-item">
                                <svg class="criterion-icon correct" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                                <span>Award 0.1 pt if the answer considers the hypothesis $a \ll a_0$. Otherwise, award 0 pt.</span>
                            </div>
                            <div class="criterion-item">
                                <svg class="criterion-icon correct" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                                <span>Award 0.1 pt if the answer applies the Newton's second law and derives $G \frac{M}{r^2} m = m \frac{a^2}{a_0}$. Otherwise, award 0 pt.</span>
                            </div>
                            <div class="criterion-item">
                                <svg class="criterion-icon correct" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                                <span>Award 0.1 pt if the answer correctly gives the expression for $v_{c,\infty}$ as $v_{c,\infty} = (a_0 G M)^{1/4}$. Otherwise, award 0 pt.</span>
                            </div>
                            <div class="criterion-item">
                                <svg class="criterion-icon correct" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                                <span>Award 0.1 pt if the answer correctly gives the numerical value for $\gamma_{\text{MOND}}$ as $\gamma_{\text{MOND}} = 4$. Otherwise, award 0 pt.</span>
                            </div>
                            <div class="criterion-item">
                                <svg class="criterion-icon incorrect" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                                </svg>
                                <span>Award 0.1 pt if the answer correctly gives the numerical value for $\log_{10}(v_{c,\infty} / {1 \mathrm{km/s}}) = 2.2$. Otherwise, award 0 pt.</span>
                            </div>
                            <div class="criterion-item">
                                <svg class="criterion-icon incorrect" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                                </svg>
                                <span>Award 0.1 pt if the answer correctly gives the numerical value for $\log_{10}(M_{\text{tot}} / M_{\odot}) = 10.5$. Otherwise, award 0 pt.</span>
                            </div>
                            <div class="criterion-item">
                                <svg class="criterion-icon incorrect" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                                </svg>
                                <span>Award 0.1 pt if the answer correctly gives the expression for $a_0$ as $a_0 = \frac{v_{c,\infty}^4}{G M_{\text{tot}}}$. Otherwise, award 0 pt.</span>
                            </div>
                            <div class="criterion-item">
                                <svg class="criterion-icon correct" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                                <span>Award 0.1 pt if the answer correctly gives the numerical value for $a_0$ within the range $[10^{-10.5}, 10^{-9.5}]$. Otherwise, award 0 pt.</span>
                            </div>
                        </div>
                        <div style="margin-top: var(--space-md); font-weight: 600; color: var(--text-primary);">
                            <span data-i18n="casestudy.total.score" data-i18n-zh="总分" data-i18n-en="Total Score">总分</span>: <strong>0.5 pt</strong>
                        </div>
                    </div>
                    <div class="solution-section">
                        <button class="solution-toggle" onclick="toggleSolution('pulsar-gpt52-solution')">
                            <span data-i18n="casestudy.view.solution" data-i18n-zh="查看完整解答" data-i18n-en="View Full Solution">查看完整解答</span>
                            <svg class="solution-toggle-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>
                        <div class="solution-content" id="pulsar-gpt52-solution">
                            <div class="solution-inner">
                                
                                <p>In the MOND theory, for very low accelerations ($a \ll a_0$), the interpolation function is approximated by $\mu(x) \approx x$, where $x = a/a_0$. Newton's second law $\vec{F} = m \mu(a/a_0) \vec{a}$ becomes:</p>
                                <p>$$F = m \frac{a}{a_0} a = \frac{m a^2}{a_0}$$</p>
                                <p>For a mass $m$ on a circular orbit of radius $r$ with velocity $v$, the acceleration is $a = v^2/r$. The gravitational force is $F = \frac{G M m}{r^2}$. Substituting these into the modified law:</p>
                                <p>$$\frac{G M m}{r^2} = \frac{m}{a_0} \left( \frac{v^2}{r} \right)^2 = \frac{m v^4}{a_0 r^2}$$</p>
                                <p>Simplifying by canceling $m$ and $r^2$:</p>
                                <p>$$G M = \frac{v^4}{a_0} \implies M = \frac{1}{G a_0} v^4$$</p>
                                <p>The Tully-Fisher relation is of the form $M \propto v^\gamma$. Comparing the two, we find the exponent:</p>
                                <p>$$\gamma_{\text{MOND}} = 4$$</p>
                                <p>To check the regime, we calculate the characteristic acceleration of the galaxy NGC 6946 using the provided data. From Fig. 1(B), the rotation curve flattens at a velocity $v_{c,\infty} \approx 170 \, \text{km/s}$. From Fig. 1(A), the visible disk of the galaxy has a width of $18 \, \text{kpc}$, corresponding to a radius $R \approx 9 \, \text{kpc}$. The acceleration $a$ at the edge of the visible galaxy is:</p>
                                <p>$$a = \frac{v_{c,\infty}^2}{R}$$</p>
                                <p>Using the values $v_{c,\infty} = 1.70 \times 10^5 \, \text{m/s}$ and $R = 9 \times 3.09 \times 10^{19} \, \text{m} \approx 2.78 \times 10^{20} \, \text{m}$:</p>
                                <p>$$a \approx \frac{(1.70 \times 10^5)^2}{2.78 \times 10^{20}} = \frac{2.89 \times 10^{10}}{2.78 \times 10^{20}} \approx 1.04 \times 10^{-10} \, \text{m/s}^2$$</p>
                                <p>This calculated acceleration is of the order of $10^{-10} \, \text{m/s}^2$, matching the given scale for $a_0$. Since the acceleration in the outer regions ($a \sim 10^{-10}$) is comparable to or less than $a_0$, MOND effects are significant, and the approximation used ($a \lesssim a_0$) is valid for the flat part of the curve.</p>
                                <p>$$\boxed{\gamma_{\text{MOND}} = 4}$$</p>
                                
                                <p>Based on the estimation using the galaxy's kinematic data at the optical radius:</p>
                                <p>$$\boxed{a_0 = \frac{v_{c,\infty}^2}{R}}$$</p>
                                
                                <p>Using the values $v_{c,\infty} = 170 \, \text{km/s}$ and $R = 9 \, \text{kpc}$:</p>
                                <p>$$a_0 = \frac{(170 \times 10^3)^2}{9 \times 3.09 \times 10^{19}} \approx 1.04 \times 10^{-10} \, \text{m/s}^2$$</p>
                                <p>Rounding to two significant figures consistent with the reading of the graph:</p>
                                <p>$$\boxed{1.0 \times 10^{-10}}$$</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Case 2: A.1 and A.2 Problem Statement -->
            <div class="case-study-problem" style="margin-top: 60px;">
                <div class="case-study-problem-title">
                    <a href="https://ipho.olimpicos.net/pdf/IPhO_2025_Q2.pdf" target="_blank" rel="noopener noreferrer" style="color: inherit; text-decoration: none; border-bottom: 2px solid var(--primary-color); transition: opacity 0.2s;">
                        Cox's Timepiece - A.1 & A.2 (IPhO 2025 Q2)
                    </a>
                </div>
                <div class="case-study-problem-content">
                    <!-- Context Toggle Button -->
                    <button class="context-toggle" onclick="toggleContext('a1a2-problem-context')">
                        <span data-i18n="casestudy.context.toggle" data-i18n-zh="查看完整题目背景" data-i18n-en="View Full Problem Context">查看完整题目背景</span>
                        <svg class="context-toggle-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </button>
                    
                    <!-- Collapsible Context Section -->
                    <div class="context-content" id="a1a2-problem-context">
                        <div class="context-inner">
                            <h4 data-i18n="casestudy.context.bg.title" data-i18n-zh="背景" data-i18n-en="Background">背景</h4>
                            <p>In 1765, British clockmaker James Cox invented a clock whose only source of energy is the fluctuations in atmospheric pressure. Cox's clock used two vessels containing mercury. Changes in atmospheric pressure caused mercury to move between the vessels, and the two vessels to move relative to each other. This movement acted as an energy source for the actual clock.</p>
                            <p><img src="case_study/case/IPhO_2025_2_a_1.png" alt="figure1" style="max-width: 60%; height: auto; margin: 20px 0;">
                            <br>Fig. 1. Artistic view of Cox's clock</p>
                            <p>We propose an analysis of this device. Throughout, we assume that</p>
                            <ul>
                                <li>the Earth's gravitational field $\vec{g} = -g\vec{u_{z}}$ is uniform with $g = 9.8 \mathrm{m} \cdot \mathrm{s}^{-2}$ and $\vec{u_{z}}$ a unit vector;</li>
                                <li>all liquids are incompressible and their density is denoted $\rho$;</li>
                                <li>no surface tension effects will be considered;</li>
                                <li>the variations of atmospheric pressure with altitude are neglected;</li>
                                <li>the surrounding temperature $T_{\mathrm{a}}$ is uniform and all transformations are isothermal.</li>
                            </ul>
                            
                            <h4>A. Pulling on a submerged tube</h4>
                            <p>We first consider a bath of water that occupies the semi-infinite space $z \leq 0$. The air above it is at a pressure $P_{\text{a}} = P_0$. A cylindrical vertical tube of length $H = 1 \text{m}$, cross-sectional area $S = 10 \text{cm}^2$ and mass $m = 0.5 \text{kg}$ is dipped into the bath. The bottom of the tube is open, and the top end of the tube is closed. We denote $h$ the altitude of the top of the tube and $z_l$ that of the water inside the tube. The thickness of the tube walls is neglected.</p>
                            <p>We start from the situation where the tube in Fig. 2 contains no gas and its top is at the bath level: in other words, $h = 0$ and $z_l = 0$ (case a). The tube is then slowly lifted until its bottom end reaches the bath level. The pulling force exerted on the tube is denoted $\vec{F} = F\vec{u}_z$.</p>
                            <p><img src="case_study/case/IPhO_2025_2_a_1_2.png" alt="alt text" style="max-width: 60%; height: auto; margin: 20px 0;">
                            <br>Fig. 2. Sketch of the tube in different configurations</p>
                            
                            <h4>A.2 Background</h4>
                            <p>Three experiments are performed. In each, the tube is lifted from the initial state shown in Fig. 2(a) under the conditions specified in Table 1.</p>
                            <p><img src="case_study/case/table1.png" alt="alt text" style="max-width: 60%; height: auto; margin: 20px 0;">
                            <br>Table 1. Experimental conditions and numerical values of physical quantities for each experiment<br>
                            ($P_{\text{sat}}$ designates the saturated vapour pressure of the pure fluid)</p>
                            <p>In each case, we study the evolution of the force $F$ that must be applied in order to maintain the tube in equilibrium at an altitude $h$, the external pressure being fixed at $P_{\text{a}} = P_0 = 1.000 \times 10^5 \text{Pa}$. Two different behaviours are possible</p>
                            <p><img src="case_study/case/behaviours.png" alt="alt text" style="max-width: 60%; height: auto; margin: 20px 0;"></p>
                        </div>
                    </div>
                    <!-- End of Collapsible Context -->
                    
                    <h4 style="margin-top: 20px;">Question A.1</h4>
                    <div class="problem-question">
                        For the configuration shown in Fig. 2 (case b), express the pressure $P_w$ in the water at the top of the tube. Also express the force $\vec{F}$ necessary to maintain the tube at this position. Expressions must be written in terms of $P_0, \rho, m, S, h, g$ and $\vec{u}_z$.
                    </div>
                    
                    <h4 style="margin-top: 30px;">Question A.2</h4>
                    <div class="problem-question">
                        For each experiment, complete the table in the answer sheet to indicate the expected behaviour and the numerical values for $F_{\text{max}}$ and for $h^{\star}$ (when pertinent), where $F_{\text{max}}$ and $h^{\star}$ are defined in the figures illustrating the two behaviours.
                    </div>
                </div>
            </div>

            <!-- Answer Box for A.1 -->
            <div class="case-study-problem" style="margin-top: 40px; border: 2px solid var(--border-subtle); border-radius: 12px; padding: var(--space-xl); background: var(--bg-elevated);">
                <div class="case-study-problem-title" style="margin-bottom: var(--space-lg);">
                    <h4 style="font-size: 20px; font-weight: 600; color: var(--primary-400); margin: 0;" data-i18n="casestudy.a1.answers" data-i18n-zh="A.1 模型答案" data-i18n-en="A.1 Model Answers">A.1 模型答案</h4>
                </div>
                <div class="models-grid">
                    <!-- P1 Model Card -->
                    <div class="model-card">
                        <div class="model-header">
                            <div class="model-name">P1-VL</div>
                            <div class="model-score perfect">
                                <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                                <span>0.2 pt</span>
                            </div>
                        </div>
                        <div class="answer-section">
                            <div class="answer-title" data-i18n="casestudy.answer" data-i18n-zh="答案" data-i18n-en="Answer">答案</div>
                            <div class="answer-content">
                                <div class="answer-item">(1) $P_{\mathrm{w}} = P_0 - \rho g h$</div>
                                <div class="answer-item">(2) $\vec{F} = \left( m g + \rho g h S \right) \vec{u_{z}}$</div>
                            </div>
                        </div>
                        <div class="evaluation-section">
                            <div class="evaluation-title" data-i18n="casestudy.evaluation" data-i18n-zh="评估标准" data-i18n-en="Evaluation Criteria">评估标准</div>
                            <div class="evaluation-criteria">
                                <div class="criterion-item">
                                    <svg class="criterion-icon correct" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                    </svg>
                                    <span>Award 0.1 pt if the answer correctly gives the expression of $P_w$ as a function of $P_a$ or $P_0$: $P_w = P_a - \rho g h = P_0 - \rho g h$. Otherwise, award 0 pt.</span>
                                </div>
                                <div class="criterion-item">
                                    <svg class="criterion-icon correct" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                    </svg>
                                    <span>Award 0.1 pt if the answer correctly derives the expression of $\vec{F}$ as $\vec{F} = [m + \rho S h] g \vec{u_{z}}$. Otherwise, award 0 pt.</span>
                                </div>
                            </div>
                            <div style="margin-top: var(--space-md); font-weight: 600; color: var(--text-primary);">
                                <span data-i18n="casestudy.total.score" data-i18n-zh="总分" data-i18n-en="Total Score">总分</span>: <strong>0.2 pt</strong>
                            </div>
                        </div>
                        <div class="solution-section">
                            <button class="solution-toggle" onclick="toggleSolution('a1-p1-solution')">
                                <span data-i18n="casestudy.view.solution" data-i18n-zh="查看完整解答" data-i18n-en="View Full Solution">查看完整解答</span>
                                <svg class="solution-toggle-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </button>
                            <div class="solution-content" id="a1-p1-solution">
                                <div class="solution-inner">
                                    <p>To analyze the situation for <strong>case b</strong> in Cox's timepiece, we consider the vertical tube of length $H$, cross-sectional area $S$, and mass $m$, lifted so that its bottom end is at the bath surface ($z = 0$) and its top is at altitude $h$. In this configuration, the water level inside the tube is at the same height as the top of the tube, i.e., $z_\ell = h$, indicating that the tube is completely filled with water.</p>
                                    
                                    <h5>(1) Pressure at the Top of the Tube</h5>
                                    <p>The tube is sealed at the top and open at the bottom, and the water inside is in hydrostatic equilibrium. The pressure at the bottom of the tube (at $z = 0$) must equal the atmospheric pressure $P_0$, as the tube is open to the bath at this level.</p>
                                    <p>Using the hydrostatic pressure law, the pressure at any height $z$ inside the water column is given by:</p>
                                    <p>$$P(z) = P_0 - \rho g z$$</p>
                                    <p>At the top of the tube, where $z = h$, the pressure in the water is:</p>
                                    <p>$$P_{\rm w} = P_0 - \rho g h$$</p>
                                    <p>This result reflects that the pressure at the top of the water column is reduced by the weight of the water column of height $h$.</p>
                                    
                                    <h5>(2) Force Required to Maintain the Tube in Equilibrium</h5>
                                    <p>To determine the force $\vec{F}$ necessary to hold the tube in place, we perform a force balance on the tube alone.</p>
                                    <p><strong>Forces on the Tube:</strong></p>
                                    <ul>
                                        <li><strong>Gravitational force</strong>: The tube has a mass $m$, so its weight is $-mg\vec{u_z}$.</li>
                                        <li><strong>Pressure forces</strong>:
                                            <ul>
                                                <li>The <strong>atmospheric pressure</strong> $P_0$ acts <strong>downward</strong> on the top cap of the tube, exerting a force $-P_0 S \vec{u_z}$.</li>
                                                <li>The <strong>water pressure</strong> $P_{\rm w}$ at the top of the tube acts <strong>upward</strong> on the inner surface of the cap, exerting a force $+P_{\rm w} S \vec{u_z}$.</li>
                                            </ul>
                                        </li>
                                    </ul>
                                    <p>Thus, the <strong>net pressure force</strong> on the tube is:</p>
                                    <p>$$(P_{\rm w} - P_0) S \vec{u_z} = -\rho g h S \vec{u_z}$$</p>
                                    <p>This is a <strong>downward</strong> force due to the pressure difference between the outside atmosphere and the water column inside the tube.</p>
                                    <ul>
                                        <li><strong>Applied force</strong>: $\vec{F}$ is applied upward to maintain equilibrium.</li>
                                    </ul>
                                    <p><strong>Equilibrium Condition:</strong></p>
                                    <p>The net force on the tube must be zero:</p>
                                    <p>$$\vec{F} + (P_{\rm w} - P_0) S \vec{u_z} - m g \vec{u_z} = \vec{0}$$</p>
                                    <p>Substituting $P_{\rm w} = P_0 - \rho g h$:</p>
                                    <p>$$\vec{F} - \rho g h S \vec{u_z} - m g \vec{u_z} = \vec{0}$$</p>
                                    <p>$$\Rightarrow \vec{F} = (m g + \rho g h S) \vec{u_z}$$</p>
                                    <p>This result is physically intuitive: the force required to hold the tube in place must counteract both the tube's own weight and the <strong>net downward pressure force</strong> due to the difference between atmospheric pressure and the reduced pressure at the top of the water column.</p>
                                    
                                    <h5>Final Answers</h5>
                                    <p>(1) The pressure in the water at the top of the tube is:</p>
                                    <p>$$\boxed{P_{\mathrm{w}} = P_0 - \rho g h}$$</p>
                                    <p>(2) The force required to maintain the tube in equilibrium is:</p>
                                    <p>$$\boxed{\vec{F} = \left( m g + \rho g h S \right) \vec{u_{z}}}$$</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Gemini-3-Pro Model Card -->
                    <div class="model-card">
                        <div class="model-header">
                            <div class="model-name">Gemini-3-Pro</div>
                            <div class="model-score perfect">
                                <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                                <span>0.2 pt</span>
                            </div>
                        </div>
                        <div class="answer-section">
                            <div class="answer-title" data-i18n="casestudy.answer" data-i18n-zh="答案" data-i18n-en="Answer">答案</div>
                            <div class="answer-content">
                                <div class="answer-item">(1) $P_{\mathrm{w}} = P_{0} - \rho g h$</div>
                                <div class="answer-item">(2) $\vec{F} = (m + \rho S h)g \vec{u_{z}}$</div>
                            </div>
                        </div>
                        <div class="evaluation-section">
                            <div class="evaluation-title" data-i18n="casestudy.evaluation" data-i18n-zh="评估标准" data-i18n-en="Evaluation Criteria">评估标准</div>
                            <div class="evaluation-criteria">
                                <div class="criterion-item">
                                    <svg class="criterion-icon correct" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                    </svg>
                                    <span>Award 0.1 pt if the answer correctly gives the expression of $P_w$ as a function of $P_a$ or $P_0$: $P_w = P_a - \rho g h = P_0 - \rho g h$. Otherwise, award 0 pt.</span>
                                </div>
                                <div class="criterion-item">
                                    <svg class="criterion-icon correct" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                    </svg>
                                    <span>Award 0.1 pt if the answer correctly derives the expression of $\vec{F}$ as $\vec{F} = [m + \rho S h] g \vec{u_{z}}$. Otherwise, award 0 pt.</span>
                                </div>
                            </div>
                            <div style="margin-top: var(--space-md); font-weight: 600; color: var(--text-primary);">
                                <span data-i18n="casestudy.total.score" data-i18n-zh="总分" data-i18n-en="Total Score">总分</span>: <strong>0.2 pt</strong>
                            </div>
                        </div>
                        <div class="solution-section">
                            <button class="solution-toggle" onclick="toggleSolution('a1-gemini3pro-solution')">
                                <span data-i18n="casestudy.view.solution" data-i18n-zh="查看完整解答" data-i18n-en="View Full Solution">查看完整解答</span>
                                <svg class="solution-toggle-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </button>
                            <div class="solution-content" id="a1-gemini3pro-solution">
                                <div class="solution-inner">
                                    <p>(1) Since the tube is slowly lifted and contains no gas, the water fills the tube up to the top inner surface as long as the pressure remains above the vapor pressure (which is the case here given the dimensions and atmospheric pressure). Thus, the water level inside the tube is $z_{\ell} = h$.</p>
                                    <p>The pressure in the stationary water column varies with height according to the hydrostatic law. Taking the pressure at the surface of the bath ($z=0$) as the atmospheric pressure $P_{0}$, the pressure $P_{\mathrm{w}}$ at the altitude $h$ inside the water column is given by:</p>
                                    <p>$$P_{\mathrm{w}} = P_{0} - \rho g h$$</p>
                                    <p>$\boxed{P_{\mathrm{w}} = P_{0} - \rho g h}$</p>
                                    
                                    <p>(2) To find the force $\vec{F}$ necessary to maintain the tube in equilibrium, we consider the balance of forces acting on the tube. The tube has mass $m$, so the gravitational force is $-mg\vec{u_{z}}$. The external lifting force is $\vec{F}$.</p>
                                    <p>The pressure forces acting on the tube are due to the atmosphere on the outer top surface and the water on the inner top surface. The thickness of the walls is neglected, so the area for both surfaces is $S$. The side walls are vertical, so pressure forces on them cancel horizontally and have no vertical component.</p>
                                    <ul>
                                        <li>Force from atmospheric pressure on the top (downward): $\vec{F}_{\text{air}} = -P_{0} S \vec{u_{z}}$.</li>
                                        <li>Force from water pressure on the top inside (upward): $\vec{F}_{\text{water}} = P_{\mathrm{w}} S \vec{u_{z}} = (P_{0} - \rho g h) S \vec{u_{z}}$.</li>
                                    </ul>
                                    <p>The equilibrium condition $\sum \vec{F} = \vec{0}$ gives:</p>
                                    <p>$$\vec{F} - mg\vec{u_{z}} - P_{0} S \vec{u_{z}} + (P_{0} - \rho g h) S \vec{u_{z}} = \vec{0}$$</p>
                                    <p>$$\vec{F} = \left( mg + P_{0} S - P_{0} S + \rho g h S \right) \vec{u_{z}}$$</p>
                                    <p>$$\vec{F} = (mg + \rho S h g) \vec{u_{z}}$$</p>
                                    <p>Alternatively, one can consider that the external force must support the weight of the tube plus the weight of the suspended water column of height $h$ (volume $Sh$) pulled up above the bath level.</p>
                                    <p>Weight of tube: $mg$.</p>
                                    <p>Weight of lifted water: $\rho (Sh) g$.</p>
                                    <p>Total magnitude: $F = mg + \rho S h g$.</p>
                                    <p>Direction is upward ($\vec{u_{z}}$).</p>
                                    <p>$\boxed{\vec{F} = (m + \rho S h)g \vec{u_{z}}}$</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Gemini-2.5-Pro Model Card -->
                    <div class="model-card">
                        <div class="model-header">
                            <div class="model-name">Gemini-2.5-Pro</div>
                            <div class="model-score perfect">
                                <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                                <span>0.2 pt</span>
                            </div>
                        </div>
                        <div class="answer-section">
                            <div class="answer-title" data-i18n="casestudy.answer" data-i18n-zh="答案" data-i18n-en="Answer">答案</div>
                            <div class="answer-content">
                                <div class="answer-item">(1) $P_0 - \rho g h$</div>
                                <div class="answer-item">(2) $(mg + \rho g h S)\vec{u_z}$</div>
                            </div>
                        </div>
                        <div class="evaluation-section">
                            <div class="evaluation-title" data-i18n="casestudy.evaluation" data-i18n-zh="评估标准" data-i18n-en="Evaluation Criteria">评估标准</div>
                            <div class="evaluation-criteria">
                                <div class="criterion-item">
                                    <svg class="criterion-icon correct" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                    </svg>
                                    <span>Award 0.1 pt if the answer correctly gives the expression of $P_w$ as a function of $P_a$ or $P_0$: $P_w = P_a - \rho g h = P_0 - \rho g h$. Otherwise, award 0 pt.</span>
                                </div>
                                <div class="criterion-item">
                                    <svg class="criterion-icon correct" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                    </svg>
                                    <span>Award 0.1 pt if the answer correctly derives the expression of $\vec{F}$ as $\vec{F} = [m + \rho S h] g \vec{u_{z}}$. Otherwise, award 0 pt.</span>
                                </div>
                            </div>
                            <div style="margin-top: var(--space-md); font-weight: 600; color: var(--text-primary);">
                                <span data-i18n="casestudy.total.score" data-i18n-zh="总分" data-i18n-en="Total Score">总分</span>: <strong>0.2 pt</strong>
                            </div>
                        </div>
                        <div class="solution-section">
                            <button class="solution-toggle" onclick="toggleSolution('a1-gemini25pro-solution')">
                                <span data-i18n="casestudy.view.solution" data-i18n-zh="查看完整解答" data-i18n-en="View Full Solution">查看完整解答</span>
                                <svg class="solution-toggle-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </button>
                            <div class="solution-content" id="a1-gemini25pro-solution">
                                <div class="solution-inner">
                                    <p><strong>Problem Solution: Tube Lifted from Water Bath</strong></p>
                                    
                                    <p><strong>Part (1): Finding the pressure $P_w$ at the top of the tube</strong></p>
                                    <p><strong>Step 1: Analyze the physical situation</strong></p>
                                    <p>The problem describes a cylindrical tube (length $H=1 \text{m}$, closed top, open bottom) initially filled with water and submerged such that its top is at the water surface ($h=0$). No gas is inside the tube. We study the configuration (Fig. 2b) where the tube's top is at height $h$ above the external water level.</p>
                                    
                                    <p><strong>Step 2: Determine the water level inside the tube, $z_l$</strong></p>
                                    <p>The space above the water column in the tube is a vacuum (no initial gas, neglect water vapor pressure). Atmospheric pressure $P_0$ supports a water column of maximum (barometric) height:</p>
                                    <p>$$H_{\text{baro}} = \frac{P_0}{\rho g}$$</p>
                                    <p>Using $P_0 \approx 1.013 \times 10^5 \text{Pa}$, $\rho \approx 1000 \text{kg/m}^3$, we get $H_{\text{baro}} \approx 10.3 \text{m}$. Since the tube length $H=1 \text{m} < 10.3 \text{m}$, atmospheric pressure keeps the tube fully filled with water. Thus:</p>
                                    <p>$$z_l = h$$</p>
                                    
                                    <p><strong>Step 3: Calculate $P_w$ using hydrostatics</strong></p>
                                    <p>The hydrostatic principle for a static fluid: $P_2 = P_1 - \rho g (z_2 - z_1)$.</p>
                                    <ul>
                                        <li>Point 1: External water surface ($z_1=0$, $P_1=P_0$)</li>
                                        <li>Point 2: Top of the water column inside the tube ($z_2=h$, $P_2=P_w$)</li>
                                    </ul>
                                    <p>Substituting gives:</p>
                                    <p>$$P_w = P_0 - \rho g h$$</p>
                                    
                                    <p><strong>Part (2): Finding the force $\vec{F}$</strong></p>
                                    <p><strong>Step 1: Define the system and identify external forces</strong></p>
                                    <p>Treat the <strong>tube + water inside</strong> as the system (static equilibrium, net force = 0). External forces:</p>
                                    <ol>
                                        <li>Pulling force: $\vec{F} = F \vec{u_z}$ (upward)</li>
                                        <li>Tube's weight: $\vec{W}_{\text{tube}} = -mg \vec{u_z}$ (downward)</li>
                                        <li>Water's weight (volume $V_w = S \cdot H$): $\vec{W}_{\text{water}} = -\rho S H g \vec{u_z}$ (downward)</li>
                                        <li>Atmospheric force on tube top: $\vec{F}_{\text{air}} = -P_0 S \vec{u_z}$ (downward)</li>
                                        <li>Water pressure force on tube bottom (height $z_{\text{bottom}} = h - H$, pressure $P(z_{\text{bottom}}) = P_0 - \rho g (h-H)$): $\vec{F}_{\text{water}} = (P_0 - \rho g (h-H)) S \vec{u_z}$ (upward)</li>
                                    </ol>
                                    
                                    <p><strong>Step 2: Apply static equilibrium (vertical direction)</strong></p>
                                    <p>$$\sum F_z = F - mg - \rho S H g - P_0 S + (P_0 - \rho g (h-H)) S = 0$$</p>
                                    
                                    <p><strong>Step 3: Solve for the magnitude of the force $F$</strong></p>
                                    <p>Let's simplify the equation:</p>
                                    <p>$$F - mg - \rho g h S = 0 \implies F = mg + \rho g h S$$</p>
                                    
                                    <p><strong>Step 4: Express as a vector</strong></p>
                                    <p>The force acts upward (along $\vec{u_z}$):</p>
                                    <p>$$\vec{F} = (mg + \rho g h S) \vec{u_z}$$</p>
                                    
                                    <p><strong>Final Check</strong></p>
                                    <ul>
                                        <li>$P_w$ decreases linearly with $h$; at $h=0$, $P_w = P_0$ (reasonable).</li>
                                        <li>$F$ increases linearly with $h$; at $h=0$, $F=mg$ (supports only the tube's weight). The term $\rho g h S$ is the weight of the lifted water column.</li>
                                    </ul>
                                    
                                    <p><strong>Answers</strong></p>
                                    <p>(1) Pressure at the top of the tube:</p>
                                    <p>$$\boxed{P_0 - \rho g h}$$</p>
                                    <p>(2) Force to maintain equilibrium:</p>
                                    <p>$$\boxed{(mg + \rho g h S)\vec{u_z}}$$</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Answer Box for A.2 -->
            <div class="case-study-problem" style="margin-top: 40px; border: 2px solid var(--border-subtle); border-radius: 12px; padding: var(--space-xl); background: var(--bg-elevated);">
                <div class="case-study-problem-title" style="margin-bottom: var(--space-lg);">
                    <h4 style="font-size: 20px; font-weight: 600; color: var(--primary-400); margin: 0;" data-i18n="casestudy.a2.answers" data-i18n-zh="A.2 模型答案" data-i18n-en="A.2 Model Answers">A.2 模型答案</h4>
                </div>
                <div class="models-grid">
                    <!-- P1 Model Card -->
                    <div class="model-card">
                        <div class="model-header">
                            <div class="model-name">P1-VL</div>
                            <div class="model-score perfect">
                                <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                                <span>0.8 pt</span>
                            </div>
                        </div>
                        <div class="answer-section">
                            <div class="answer-title" data-i18n="casestudy.answer" data-i18n-zh="答案" data-i18n-en="Answer">答案</div>
                            <div class="answer-content">
                                <div class="answer-item">Experiment 1: A, None, 14.7 N</div>
                                <div class="answer-item">Experiment 2: A, None, 14.4 N</div>
                                <div class="answer-item">Experiment 3: B, 2.1 cm, 5.1 N</div>
                            </div>
                        </div>
                        <div class="evaluation-section">
                            <div class="evaluation-title" data-i18n="casestudy.evaluation" data-i18n-zh="评估标准" data-i18n-en="Evaluation Criteria">评估标准</div>
                            <div class="evaluation-criteria">
                                <div class="criterion-item">
                                    <svg class="criterion-icon correct" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                    </svg>
                                    <span>0.2 pt: Correct behaviors for all experiments (A, A, B).</span>
                                </div>
                                <div class="criterion-item">
                                    <svg class="criterion-icon correct" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                    </svg>
                                    <span>0.1 pt: $F_{\max}$ for Exp 1 in [14.6, 15] N.</span>
                                </div>
                                <div class="criterion-item">
                                    <svg class="criterion-icon correct" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                    </svg>
                                    <span>0.1 pt: $F_{\max}$ for Exp 2 in [14, 14.5] N.</span>
                                </div>
                                <div class="criterion-item">
                                    <svg class="criterion-icon correct" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                    </svg>
                                    <span>0.2 pt: $h^{\star}$ for Exp 3 in [2, 2.2] cm.</span>
                                </div>
                                <div class="criterion-item">
                                    <svg class="criterion-icon correct" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                    </svg>
                                    <span>0.2 pt: $F_{\max}$ for Exp 3 in [5, 5.2] N.</span>
                                </div>
                            </div>
                            <div style="margin-top: var(--space-md); font-weight: 600; color: var(--text-primary);">
                                <span data-i18n="casestudy.total.score" data-i18n-zh="总分" data-i18n-en="Total Score">总分</span>: <strong>0.8 pt</strong>
                            </div>
                        </div>
                        <div class="solution-section">
                            <button class="solution-toggle" onclick="toggleSolution('a2-p1-solution')">
                                <span data-i18n="casestudy.view.solution" data-i18n-zh="查看完整解答" data-i18n-en="View Full Solution">查看完整解答</span>
                                <svg class="solution-toggle-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </button>
                            <div class="solution-content" id="a2-p1-solution">
                                <div class="solution-inner">
                                    <p>To determine the behavior of the tube during lifting and the corresponding values of $F_{\max}$ and $h^*$, we analyze the pressure equilibrium and the conditions under which vaporization (cavitation) occurs.</p>
                                    
                                    <p>The vertical cylinder, sealed at the top and open at the bottom, is lifted from the bath (where $h = 0$) to the position where its bottom end reaches the surface (i.e., $h = H = 1 \, \mathrm{m}$). The pressure at the top of the tube is governed by:</p>
                                    <p>$$P_{\mathrm{top}} = P_0 - \rho g h$$</p>
                                    
                                    <p>Cavitation (formation of vapor) occurs when $P_{\mathrm{top}} = P_{\mathrm{sat}}$, i.e., when:</p>
                                    <p>$$h^* = \frac{P_0 - P_{\mathrm{sat}}}{\rho g}$$</p>
                                    
                                    <ul>
                                        <li><strong>Behavior A</strong> occurs when $h^* > H$, meaning the tube remains completely filled with liquid throughout the lifting process ($z_\ell = h$).</li>
                                        <li><strong>Behavior B</strong> occurs when $h^* < H$, meaning the water column inside the tube stops rising at $h^*$, and the top of the tube continues to rise while the water level inside remains at $z_\ell = h^*$.</li>
                                    </ul>
                                    
                                    <p>The force $F$ required to hold the tube in equilibrium is given by:</p>
                                    <p>$$F = mg + (P_0 - P_{\mathrm{top}})S$$</p>
                                    
                                    <ul>
                                        <li>For <strong>Behavior A</strong>, $P_{\mathrm{top}} = P_0 - \rho g h$, so:
                                        $$F = mg + \rho g S h$$
                                        At $h = H$, 
                                        $$F_{\max} = mg + \rho g S H$$</li>
                                        <li>For <strong>Behavior B</strong>, once $h > h^*$, $P_{\mathrm{top}} = P_{\mathrm{sat}}$, so:
                                        $$F_{\max} = mg + (P_0 - P_{\mathrm{sat}})S$$</li>
                                    </ul>
                                    
                                    <p><strong>Data Recap:</strong></p>
                                    <ul>
                                        <li>Cross-sectional area: $S = 10 \, \mathrm{cm^2} = 1 \times 10^{-3} \, \mathrm{m^2}$</li>
                                        <li>Mass of the tube: $m = 0.5 \, \mathrm{kg}$</li>
                                        <li>Gravitational acceleration: $g = 9.8 \, \mathrm{m/s^2}$</li>
                                        <li>Atmospheric pressure: $P_0 = 1.000 \times 10^5 \, \mathrm{Pa}$</li>
                                    </ul>
                                    
                                    <p><strong>Experiment 1: Water at $20^\circ \mathrm{C}$</strong></p>
                                    <ul>
                                        <li>$\rho = 1.00 \times 10^3 \, \mathrm{kg/m^3}$</li>
                                        <li>$P_{\mathrm{sat}} = 2.34 \times 10^3 \, \mathrm{Pa}$</li>
                                    </ul>
                                    <p>$$h^* = \frac{1.000 \times 10^5 - 2.34 \times 10^3}{1.00 \times 10^3 \times 9.8} \approx 9.96 \, \mathrm{m} > H$$</p>
                                    <p>$\rightarrow$ <strong>Behavior A</strong></p>
                                    <p>$$F_{\max} = mg + \rho g S H = 0.5 \times 9.8 + 1.00 \times 10^3 \times 9.8 \times 1 \times 10^{-3} = 4.9 + 9.8 = 14.7 \, \mathrm{N}$$</p>
                                    
                                    <p><strong>Experiment 2: Water at $80^\circ \mathrm{C}$</strong></p>
                                    <ul>
                                        <li>$\rho = 0.97 \times 10^3 \, \mathrm{kg/m^3}$</li>
                                        <li>$P_{\mathrm{sat}} = 47.4 \times 10^3 \, \mathrm{Pa}$</li>
                                    </ul>
                                    <p>$$h^* = \frac{1.000 \times 10^5 - 47.4 \times 10^3}{0.97 \times 10^3 \times 9.8} \approx 5.53 \, \mathrm{m} > H$$</p>
                                    <p>$\rightarrow$ <strong>Behavior A</strong></p>
                                    <p>$$F_{\max} = mg + \rho g S H = 4.9 + 0.97 \times 10^3 \times 9.8 \times 1 \times 10^{-3} \approx 4.9 + 9.506 = 14.4 \, \mathrm{N}$$</p>
                                    
                                    <p><strong>Experiment 3: Water at $99^\circ \mathrm{C}$</strong></p>
                                    <ul>
                                        <li>$\rho = 0.96 \times 10^3 \, \mathrm{kg/m^3}$</li>
                                        <li>$P_{\mathrm{sat}} = 99.8 \times 10^3 \, \mathrm{Pa}$</li>
                                    </ul>
                                    <p>$$h^* = \frac{1.000 \times 10^5 - 99.8 \times 10^3}{0.96 \times 10^3 \times 9.8} \approx 0.0213 \, \mathrm{m} = 2.1 \, \mathrm{cm} < H$$</p>
                                    <p>$\rightarrow$ <strong>Behavior B</strong></p>
                                    <p>$$F_{\max} = mg + (P_0 - P_{\mathrm{sat}})S = 4.9 + (200)(1 \times 10^{-3}) = 4.9 + 0.2 = 5.1 \, \mathrm{N}$$</p>
                                    
                                    <p><strong>Answer:</strong></p>
                                    <table style="width: 100%; border-collapse: collapse; margin: 20px 0;">
                                        <thead>
                                            <tr style="border-bottom: 2px solid var(--border-subtle);">
                                                <th style="padding: 10px; text-align: left;">Experiment</th>
                                                <th style="padding: 10px; text-align: left;">Behaviour (A or B?)</th>
                                                <th style="padding: 10px; text-align: left;">$h^*$ (cm)</th>
                                                <th style="padding: 10px; text-align: left;">$F_{\max}$ (N)</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr style="border-bottom: 1px solid var(--border-subtle);">
                                                <td style="padding: 10px;">1</td>
                                                <td style="padding: 10px;">A</td>
                                                <td style="padding: 10px;">None</td>
                                                <td style="padding: 10px;">14.7</td>
                                            </tr>
                                            <tr style="border-bottom: 1px solid var(--border-subtle);">
                                                <td style="padding: 10px;">2</td>
                                                <td style="padding: 10px;">A</td>
                                                <td style="padding: 10px;">None</td>
                                                <td style="padding: 10px;">14.4</td>
                                            </tr>
                                            <tr>
                                                <td style="padding: 10px;">3</td>
                                                <td style="padding: 10px;">B</td>
                                                <td style="padding: 10px;">2.1</td>
                                                <td style="padding: 10px;">5.1</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Gemini-3-Pro Model Card -->
                    <div class="model-card">
                        <div class="model-header">
                            <div class="model-name">Gemini-3-Pro</div>
                            <div class="model-score perfect">
                                <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                                <span>0.8 pt</span>
                            </div>
                        </div>
                        <div class="answer-section">
                            <div class="answer-title" data-i18n="casestudy.answer" data-i18n-zh="答案" data-i18n-en="Answer">答案</div>
                            <div class="answer-content">
                                <div class="answer-item">Experiment 1: A, None, 14.7 N</div>
                                <div class="answer-item">Experiment 2: A, None, 14.4 N</div>
                                <div class="answer-item">Experiment 3: B, 2.13 cm, 5.1 N</div>
                            </div>
                        </div>
                        <div class="evaluation-section">
                            <div class="evaluation-title" data-i18n="casestudy.evaluation" data-i18n-zh="评估标准" data-i18n-en="Evaluation Criteria">评估标准</div>
                            <div class="evaluation-criteria">
                                <div class="criterion-item">
                                    <svg class="criterion-icon correct" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                    </svg>
                                    <span>0.2 pt: Correct behaviors for all experiments (A, A, B).</span>
                                </div>
                                <div class="criterion-item">
                                    <svg class="criterion-icon correct" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                    </svg>
                                    <span>0.1 pt: $F_{\max}$ for Exp 1 in [14.6, 15] N.</span>
                                </div>
                                <div class="criterion-item">
                                    <svg class="criterion-icon correct" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                    </svg>
                                    <span>0.1 pt: $F_{\max}$ for Exp 2 in [14, 14.5] N.</span>
                                </div>
                                <div class="criterion-item">
                                    <svg class="criterion-icon correct" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                    </svg>
                                    <span>0.2 pt: $h^{\star}$ for Exp 3 in [2, 2.2] cm.</span>
                                </div>
                                <div class="criterion-item">
                                    <svg class="criterion-icon correct" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                    </svg>
                                    <span>0.2 pt: $F_{\max}$ for Exp 3 in [5, 5.2] N.</span>
                                </div>
                            </div>
                            <div style="margin-top: var(--space-md); font-weight: 600; color: var(--text-primary);">
                                <span data-i18n="casestudy.total.score" data-i18n-zh="总分" data-i18n-en="Total Score">总分</span>: <strong>0.8 pt</strong>
                            </div>
                        </div>
                        <div class="solution-section">
                            <button class="solution-toggle" onclick="toggleSolution('a2-gemini3pro-solution')">
                                <span data-i18n="casestudy.view.solution" data-i18n-zh="查看完整解答" data-i18n-en="View Full Solution">查看完整解答</span>
                                <svg class="solution-toggle-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </button>
                            <div class="solution-content" id="a2-gemini3pro-solution">
                                <div class="solution-inner">
                                    <p>To solve this problem, we need to analyze the forces acting on the tube as it is lifted from the bath.</p>
                                    
                                    <p><strong>Part A Analysis:</strong></p>
                                    <p>Let $h$ be the height of the top of the tube above the bath surface ($z=0$). The tube has length $H$, mass $m$, and cross-sectional area $S$.</p>
                                    <p>The forces acting on the tube are gravity ($mg$ downwards), the external pulling force ($F$ upwards), the atmospheric pressure force on the top outer surface ($P_0 S$ downwards), and the fluid pressure force on the top inner surface ($P_{\mathrm{w}} S$ upwards).</p>
                                    <p>The equation of motion (equilibrium) is:</p>
                                    <p>$$F - mg - P_0 S + P_{\mathrm{w}} S = 0 \implies F = mg + (P_0 - P_{\mathrm{w}}) S$$</p>
                                    
                                    <p>The pressure $P_{\mathrm{w}}$ inside the tube at the top depends on the height of the water column. As long as the tube is full of water, the pressure at height $h$ is related to the pressure at the bath surface ($P_0$) by hydrostatic equilibrium:</p>
                                    <p>$$P_{\mathrm{w}} = P_0 - \rho g h$$</p>
                                    <p>Substituting this into the force equation gives:</p>
                                    <p>$$F(h) = mg + (P_0 - (P_0 - \rho g h)) S = mg + \rho g S h$$</p>
                                    <p>This represents a linear increase in force with height $h$. This corresponds to the initial part of both behaviours.</p>
                                    
                                    <p>However, the pressure $P_{\mathrm{w}}$ cannot drop below the saturated vapour pressure $P_{\text{sat}}$. If $P_{\mathrm{w}}$ reaches $P_{\text{sat}}$, the water column detaches from the top of the tube (vapor forms), and the pressure $P_{\mathrm{w}}$ remains constant at $P_{\text{sat}}$.</p>
                                    <p>The height $h^{\star}$ at which this transition occurs is found by setting $P_{\mathrm{w}} = P_{\text{sat}}$:</p>
                                    <p>$$P_{\text{sat}} = P_0 - \rho g h^{\star} \implies h^{\star} = \frac{P_0 - P_{\text{sat}}}{\rho g}$$</p>
                                    
                                    <p>If $h^{\star} \ge H$, the pressure never reaches $P_{\text{sat}}$ before the tube is fully lifted ($h=H$). The force increases linearly throughout. This is <strong>Behaviour A</strong>.</p>
                                    <p>The maximum force is at $h=H$:</p>
                                    <p>$$F_{\max} = mg + \rho g S H$$</p>
                                    
                                    <p>If $h^{\star} < H$, the pressure reaches $P_{\text{sat}}$ at $h = h^{\star}$. For $h > h^{\star}$, the pressure $P_{\mathrm{w}}$ is fixed at $P_{\text{sat}}$, and the force becomes constant:</p>
                                    <p>$$F(h) = mg + (P_0 - P_{\text{sat}}) S$$</p>
                                    <p>This plateau corresponds to <strong>Behaviour B</strong>.</p>
                                    <p>The maximum force is:</p>
                                    <p>$$F_{\max} = mg + (P_0 - P_{\text{sat}}) S$$</p>
                                    
                                    <p><strong>Calculations for the Experiments:</strong></p>
                                    <p>Given: $H = 1 \mathrm{m}$, $S = 10 \mathrm{cm}^2 = 10^{-3} \mathrm{m}^2$, $m = 0.5 \mathrm{kg}$, $g = 9.8 \mathrm{m/s^2}$, $P_0 = 1.000 \times 10^5 \mathrm{Pa}$.</p>
                                    
                                    <p><strong>Experiment 1:</strong></p>
                                    <p>$\rho = 1.00 \times 10^3 \mathrm{kg/m^3}$, $P_{\text{sat}} = 2.34 \times 10^3 \mathrm{Pa}$.</p>
                                    <p>$$h^{\star} = \frac{100000 - 2340}{1000 \times 9.8} = \frac{97660}{9800} \approx 9.97 \mathrm{m}$$</p>
                                    <p>Since $h^{\star} > H$, it is <strong>Behaviour A</strong>.</p>
                                    <p>$h^{\star}$ is not pertinent (marked as 'None').</p>
                                    <p>$$F_{\max} = mg + \rho g S H = 0.5(9.8) + 1000(9.8)(10^{-3})(1) = 4.9 + 9.8 = 14.7 \mathrm{N}$$</p>
                                    
                                    <p><strong>Experiment 2:</strong></p>
                                    <p>$\rho = 0.97 \times 10^3 \mathrm{kg/m^3}$, $P_{\text{sat}} = 47.4 \times 10^3 \mathrm{Pa}$.</p>
                                    <p>$$h^{\star} = \frac{100000 - 47400}{970 \times 9.8} = \frac{52600}{9506} \approx 5.53 \mathrm{m}$$</p>
                                    <p>Since $h^{\star} > H$, it is <strong>Behaviour A</strong>.</p>
                                    <p>$h^{\star}$ is 'None'.</p>
                                    <p>$$F_{\max} = mg + \rho g S H = 0.5(9.8) + 970(9.8)(10^{-3})(1) = 4.9 + 9.506 = 14.406 \approx 14.4 \mathrm{N}$$</p>
                                    
                                    <p><strong>Experiment 3:</strong></p>
                                    <p>$\rho = 0.96 \times 10^3 \mathrm{kg/m^3}$, $P_{\text{sat}} = 99.8 \times 10^3 \mathrm{Pa}$.</p>
                                    <p>$$h^{\star} = \frac{100000 - 99800}{960 \times 9.8} = \frac{200}{9408} \approx 0.02126 \mathrm{m} = 2.13 \mathrm{cm}$$</p>
                                    <p>Since $h^{\star} < H$, it is <strong>Behaviour B</strong>.</p>
                                    <p>$h^{\star} = 2.13 \mathrm{cm}$.</p>
                                    <p>$$F_{\max} = mg + (P_0 - P_{\text{sat}}) S = 0.5(9.8) + (200)(10^{-3}) = 4.9 + 0.2 = 5.1 \mathrm{N}$$</p>
                                    
                                    <p><strong>Answers:</strong></p>
                                    <table style="width: 100%; border-collapse: collapse; margin: 20px 0;">
                                        <thead>
                                            <tr style="border-bottom: 2px solid var(--border-subtle);">
                                                <th style="padding: 10px; text-align: left;">Experiment</th>
                                                <th style="padding: 10px; text-align: left;">Behaviour (A or B?)</th>
                                                <th style="padding: 10px; text-align: left;">$h^{\star}$ (cm)</th>
                                                <th style="padding: 10px; text-align: left;">$F_{\max}$ (N)</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr style="border-bottom: 1px solid var(--border-subtle);">
                                                <td style="padding: 10px;">1</td>
                                                <td style="padding: 10px;">A</td>
                                                <td style="padding: 10px;">None</td>
                                                <td style="padding: 10px;">14.7</td>
                                            </tr>
                                            <tr style="border-bottom: 1px solid var(--border-subtle);">
                                                <td style="padding: 10px;">2</td>
                                                <td style="padding: 10px;">A</td>
                                                <td style="padding: 10px;">None</td>
                                                <td style="padding: 10px;">14.4</td>
                                            </tr>
                                            <tr>
                                                <td style="padding: 10px;">3</td>
                                                <td style="padding: 10px;">B</td>
                                                <td style="padding: 10px;">2.13</td>
                                                <td style="padding: 10px;">5.1</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Gemini-2.5-Pro Model Card -->
                    <div class="model-card">
                        <div class="model-header">
                            <div class="model-name">Gemini-2.5-Pro</div>
                            <div class="model-score low">
                                <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
                                </svg>
                                <span>0.2 pt</span>
                            </div>
                        </div>
                        <div class="answer-section">
                            <div class="answer-title" data-i18n="casestudy.answer" data-i18n-zh="答案" data-i18n-en="Answer">答案</div>
                            <div class="answer-content">
                                <div class="answer-item">Experiment 1: A, None, 114.7 N</div>
                                <div class="answer-item">Experiment 2: A, None, 114.4 N</div>
                                <div class="answer-item">Experiment 3: A, 2.13 cm, 105.1 N</div>
                            </div>
                        </div>
                        <div class="evaluation-section">
                            <div class="evaluation-title" data-i18n="casestudy.evaluation" data-i18n-zh="评估标准" data-i18n-en="Evaluation Criteria">评估标准</div>
                            <div class="evaluation-criteria">
                                <div class="criterion-item">
                                    <svg class="criterion-icon incorrect" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                                    </svg>
                                    <span>0.2 pt: Correct behaviors for all experiments (A, A, B).</span>
                                </div>
                                <div class="criterion-item">
                                    <svg class="criterion-icon incorrect" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                                    </svg>
                                    <span>0.1 pt: $F_{\max}$ for Exp 1 in [14.6, 15] N.</span>
                                </div>
                                <div class="criterion-item">
                                    <svg class="criterion-icon incorrect" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                                    </svg>
                                    <span>0.1 pt: $F_{\max}$ for Exp 2 in [14, 14.5] N.</span>
                                </div>
                                <div class="criterion-item">
                                    <svg class="criterion-icon correct" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                    </svg>
                                    <span>0.2 pt: $h^{\star}$ for Exp 3 in [2, 2.2] cm.</span>
                                </div>
                                <div class="criterion-item">
                                    <svg class="criterion-icon incorrect" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                                    </svg>
                                    <span>0.2 pt: $F_{\max}$ for Exp 3 in [5, 5.2] N.</span>
                                </div>
                            </div>
                            <div style="margin-top: var(--space-md); font-weight: 600; color: var(--text-primary);">
                                <span data-i18n="casestudy.total.score" data-i18n-zh="总分" data-i18n-en="Total Score">总分</span>: <strong>0.2 pt</strong>
                            </div>
                        </div>
                        <div class="solution-section">
                            <button class="solution-toggle" onclick="toggleSolution('a2-gemini25pro-solution')">
                                <span data-i18n="casestudy.view.solution" data-i18n-zh="查看完整解答" data-i18n-en="View Full Solution">查看完整解答</span>
                                <svg class="solution-toggle-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </button>
                            <div class="solution-content" id="a2-gemini25pro-solution">
                                <div class="solution-inner">
                                    <p>An elegant and often robust method to solve this kind of problem is to use a free body diagram on a cleverly chosen system. Let's define our system as the tube plus all its contents (the water and the gas/vapor inside). We will assume the tube wall thickness is negligible, so its inner and outer cross-sectional areas are both equal to $S$.</p>
                                    
                                    <p>Let's analyze the forces acting on this system in the vertical direction ($\vec{u_z}$). The system is in equilibrium, so the net force is zero.</p>
                                    
                                    <p>The forces are:</p>
                                    <ol>
                                        <li>The pulling force $\vec{F} = F\vec{u_z}$.</li>
                                        <li>The total weight of the system $\vec{W}_{\text{tot}}$. This is the weight of the tube, $m\vec{g}$, plus the weight of the water inside it, $m_w\vec{g}$. The weight of the gas/vapor is negligible.</li>
                                        <li>The force exerted by the surrounding fluid (air and water). This force can be split into two parts:
                                            <ul>
                                                <li>The buoyant force, $\vec{F}_B$, due to the pressure gradient in the surrounding fluid.</li>
                                                <li>The pressure force on the top horizontal surface of the system, $\vec{F}_P$, which is exposed to the uniform atmospheric pressure $P_0$.</li>
                                            </ul>
                                        </li>
                                    </ol>
                                    
                                    <p>The equilibrium equation is: $\vec{F} + \vec{W}_{\text{tot}} + \vec{F}_B + \vec{F}_P = \vec{0}$.</p>
                                    
                                    <p>For a given tube top altitude $h$:</p>
                                    <ul>
                                        <li><strong>Total Weight:</strong> $W_{\text{tot}} = (m + \rho S (z_{\ell} - h + H))g$</li>
                                        <li><strong>Buoyant Force:</strong> $F_B = \rho g S (H-h)$</li>
                                        <li><strong>Top Pressure Force:</strong> $F_P = -P_0 S$</li>
                                    </ul>
                                    
                                    <p>This gives: $F = mg + P_0 S + \rho g S z_{\ell}$</p>
                                    
                                    <p><strong>Phase 1: Tube is full of water</strong></p>
                                    <p>When $z_{\ell} = h$ and $P_w = P_0 - \rho g h \ge P_{\text{sat}}$, the force is:</p>
                                    <p>$$F(h) = mg + P_0 S + \rho g S h$$</p>
                                    
                                    <p>Cavitation occurs at $h_c = \frac{P_0 - P_{\text{sat}}}{\rho g}$.</p>
                                    
                                    <p><strong>Phase 2: Vapor bubble has formed</strong></p>
                                    <p>For $h > h_c$, $P_w = P_{\text{sat}}$ and $z_{\ell} = h_c$, so:</p>
                                    <p>$$F(h) = mg + P_0 S + \rho g S h_c$$</p>
                                    
                                    <p><strong>Numerical Calculations:</strong></p>
                                    <p>Given: $m=0.5 \mathrm{kg}$, $S=10^{-3} \mathrm{m}^2$, $g=9.8 \mathrm{m/s}^2$, $P_0=1.000 \times 10^5 \mathrm{Pa}$, $H=1 \mathrm{m}$.</p>
                                    
                                    <p><strong>Experiment 1:</strong> Water at $20^{\circ}\mathrm{C}$</p>
                                    <p>$\rho = 1.00 \times 10^3 \mathrm{kg/m^3}$, $P_{\text{sat}} = 2.34 \times 10^3 \mathrm{Pa}$.</p>
                                    <p>$h_c = \frac{1.000 \times 10^5 - 2.34 \times 10^3}{1.00 \times 10^3 \times 9.8} \approx 9.965 \mathrm{m} > H$</p>
                                    <p>Behavior: <strong>A</strong>, $h^*$: <strong>None</strong></p>
                                    <p>$F_{\max} = mg + P_0 S + \rho g S H = 4.9 + 100 + 9.8 = 114.7 \mathrm{N}$</p>
                                    
                                    <p><strong>Experiment 2:</strong> Water at $80^{\circ}\mathrm{C}$</p>
                                    <p>$\rho = 0.97 \times 10^3 \mathrm{kg/m^3}$, $P_{\text{sat}} = 47.4 \times 10^3 \mathrm{Pa}$.</p>
                                    <p>$h_c = \frac{1.000 \times 10^5 - 47.4 \times 10^3}{0.97 \times 10^3 \times 9.8} \approx 5.533 \mathrm{m} > H$</p>
                                    <p>Behavior: <strong>A</strong>, $h^*$: <strong>None</strong></p>
                                    <p>$F_{\max} = mg + P_0 S + \rho g S H = 4.9 + 100 + 9.506 = 114.406 \approx 114.4 \mathrm{N}$</p>
                                    
                                    <p><strong>Experiment 3:</strong> Water at $99^{\circ}\mathrm{C}$</p>
                                    <p>$\rho = 0.96 \times 10^3 \mathrm{kg/m^3}$, $P_{\text{sat}} = 99.8 \times 10^3 \mathrm{Pa}$.</p>
                                    <p>$h_c = \frac{1.000 \times 10^5 - 99.8 \times 10^3}{0.96 \times 10^3 \times 9.8} \approx 0.02126 \mathrm{m} = 2.126 \mathrm{cm}$</p>
                                    <p>Behavior: <strong>A</strong>, $h^*$: <strong>2.13 cm</strong></p>
                                    <p>$F_{\max} = mg + P_0 S + \rho g S h_c = 4.9 + 100 + 0.1999 \approx 105.1 \mathrm{N}$</p>
                                    
                                    <p><strong>Final Table:</strong></p>
                                    <table style="width: 100%; border-collapse: collapse; margin: 20px 0;">
                                        <thead>
                                            <tr style="border-bottom: 2px solid var(--border-subtle);">
                                                <th style="padding: 10px; text-align: left;">Experiment</th>
                                                <th style="padding: 10px; text-align: left;">Behaviour</th>
                                                <th style="padding: 10px; text-align: left;">$h^{\star}$ (cm)</th>
                                                <th style="padding: 10px; text-align: left;">$F_{\max} (N)$</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr style="border-bottom: 1px solid var(--border-subtle);">
                                                <td style="padding: 10px;">1</td>
                                                <td style="padding: 10px;">A</td>
                                                <td style="padding: 10px;">None</td>
                                                <td style="padding: 10px;">114.7</td>
                                            </tr>
                                            <tr style="border-bottom: 1px solid var(--border-subtle);">
                                                <td style="padding: 10px;">2</td>
                                                <td style="padding: 10px;">A</td>
                                                <td style="padding: 10px;">None</td>
                                                <td style="padding: 10px;">114.4</td>
                                            </tr>
                                            <tr>
                                                <td style="padding: 10px;">3</td>
                                                <td style="padding: 10px;">A</td>
                                                <td style="padding: 10px;">2.13</td>
                                                <td style="padding: 10px;">105.1</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
        
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
  </div>

        <!-- Acknowledgements Section -->
        <div class="acknowledgements-section">
            <h3 id="acknowledgements" class="acknowledgements-title" 
                data-i18n="acknowledgements.title"
                data-i18n-zh="致谢"
                data-i18n-en="Acknowledgements">致谢</h3>
            
            <p class="acknowledgements-intro" 
               data-i18n="acknowledgements.intro"
               data-i18n-zh="我们感谢开源社区的宝贵贡献。特别感谢："
               data-i18n-en="We are grateful to the open-source community for their invaluable contributions. Special thanks to:">
                我们感谢开源社区的宝贵贡献。特别感谢：
            </p>
            
            <ul class="acknowledgements-list">
                <li>
                    <strong><a href="https://huggingface.co/collections/Qwen/qwen3-vl" target="_blank" rel="noopener noreferrer">Qwen3-VL</a></strong>
                    <span data-i18n="acknowledgements.qwen"
                          data-i18n-zh=" - 提供了驱动我们研究的基础模型"
                          data-i18n-en=" - for providing the foundational base models that powered our research">
                        - 提供了驱动我们研究的基础模型
                    </span>
                </li>
                <!-- <li>
                    <strong><a href="https://github.com/THUDM/slime" target="_blank" rel="noopener noreferrer">slime</a></strong>
                    <span data-i18n="acknowledgements.slime"
                          data-i18n-zh=" - 高效的强化学习框架，支撑了我们的训练流程"
                          data-i18n-en=" - for their innovative work on efficient reinforcement learning framework that powered our training pipeline">
                        - 高效的强化学习框架，支撑了我们的训练流程
                    </span>
                </li> -->
                <li>
                    <strong><a href="https://github.com/volcengine/verl" target="_blank" rel="noopener noreferrer">verl</a></strong>
                    <span data-i18n="acknowledgements.verl"
                          data-i18n-zh=" - 多功能的强化学习框架，支持了我们的训练过程"
                          data-i18n-en=" - for the versatile reinforcement learning framework that enabled our training pipeline">
                        - 多功能的强化学习框架，支持了我们的训练过程
                    </span>
                </li>
                <li>
                    <strong><a href="https://github.com/vllm-project/vllm" target="_blank" rel="noopener noreferrer">vLLM</a></strong>
                    <span data-i18n="acknowledgements.sglang"
                          data-i18n-zh=" - 高效的大语言模型服务和推理基础设施"
                          data-i18n-en=" - for the efficient LLM serving and inference infrastructure">
                        - 高效的大语言模型服务和推理基础设施
                    </span>
                </li> 
                <li>
                    <strong><a href="https://github.com/NVIDIA/Megatron-LM" target="_blank" rel="noopener noreferrer">Megatron-LM</a></strong>
                    <span data-i18n="acknowledgements.megatron"
                          data-i18n-zh=" - 大规模模型训练框架"
                          data-i18n-en=" - for the large-scale model training framework">
                        - 大规模模型训练框架
                    </span>
                </li>
            </ul>
            
            <p class="acknowledgements-outro" 
               data-i18n="acknowledgements.outro"
               data-i18n-zh="我们还要感谢支持 P1-VL 模型开发、相关数据集的开发工作的同事与合作者。"
               data-i18n-en="We also thank colleagues and collaborators who supported the development of P1-VL models, the accompanying datasets.">
                我们还要感谢支持 P1-VL 模型开发、相关数据集的开发工作的同事与合作者。
            </p>
        </div>

        <!-- Citation Section -->
        <div class="citation-section">
            <h3 id="citation" class="citation-title" 
                data-i18n="citation.title"
                data-i18n-zh="引用"
                data-i18n-en="Citation">引用</h3>
            
            <div class="citation-bibtex-wrapper">
                <button class="citation-copy-btn" onclick="copyBibtex()" 
                        data-i18n="citation.copy"
                        data-i18n-zh="复制"
                        data-i18n-en="Copy">复制</button>
                <div class="citation-bibtex-content" id="bibtexContent">@misc{p1vl2026,
    title={P1-VL: Bridging Visual Perception and Scientific Reasoning in Physics Olympiads},
    author={P1 Team},
    year={2026},
    url={https://prime-rl.github.io/P1/}
}</div>
            </div>
        </div>
    </main>

    <!-- Lightbox -->
    <div class="lightbox" id="lightbox" onclick="closeLightbox(event)">
        <button class="lightbox-close" onclick="closeLightbox(event)" aria-label="关闭">
            <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
            </svg>
        </button>
        <img class="lightbox-image" id="lightboxImage" src="" alt="">
    </div>

    <!-- Scroll to Top Button -->
        <button class="scroll-to-top" id="scrollToTop" onclick="scrollToTop()" aria-label="回到顶部">
        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"></path>
        </svg>
    </button>

    <script>
        // --- Simple i18n ---
        (function() {
            const STORAGE_KEY = 'site_lang';
            const DEFAULT_LANG = 'en';

            function getStoredLang() {
                try { return localStorage.getItem(STORAGE_KEY) || DEFAULT_LANG; } catch { return DEFAULT_LANG; }
            }

            function setStoredLang(lang) {
                try { localStorage.setItem(STORAGE_KEY, lang); } catch {}
            }

            function updateHtmlLang(lang) {
                const html = document.documentElement;
                html.setAttribute('lang', lang === 'zh' ? 'zh-CN' : 'en');
            }

            function applyTranslations(lang) {
                document.querySelectorAll('[data-i18n]').forEach(el => {
                    const attr = lang === 'zh' ? 'data-i18n-zh' : 'data-i18n-en';
                    const html = el.getAttribute(attr);
                    if (html != null) {
                        el.innerHTML = html;
                    }
                });
                // aria-labels
                const backTop = document.getElementById('scrollToTop');
                if (backTop) backTop.setAttribute('aria-label', lang === 'zh' ? '回到顶部' : 'Back to top');
                const lbClose = document.querySelector('.lightbox-close');
                if (lbClose) lbClose.setAttribute('aria-label', lang === 'zh' ? '关闭' : 'Close');
                
                // Trigger MathJax rendering after translations are applied
                if (typeof MathJax !== 'undefined' && MathJax.typesetPromise) {
                    MathJax.typesetPromise().catch(function (err) {
                        console.log('MathJax typeset error: ' + err.message);
                    });
                }
            }

            function setActiveButton(lang) {
                const zhBtn = document.getElementById('btn-zh');
                const enBtn = document.getElementById('btn-en');
                if (!zhBtn || !enBtn) return;
                if (lang === 'zh') {
                    zhBtn.classList.add('active'); zhBtn.setAttribute('aria-pressed', 'true');
                    enBtn.classList.remove('active'); enBtn.setAttribute('aria-pressed', 'false');
                } else {
                    enBtn.classList.add('active'); enBtn.setAttribute('aria-pressed', 'true');
                    zhBtn.classList.remove('active'); zhBtn.setAttribute('aria-pressed', 'false');
                }
            }

            function updateChartLanguage(chart, lang) {
                if (!chart) return;
                const markLines = [
                    lang === 'zh' ? '金牌线' : 'Gold Medal',
                    lang === 'zh' ? '银牌线' : 'Silver Medal',
                    lang === 'zh' ? '铜牌线' : 'Bronze Medal'
                ];
                const option = chart.getOption();
                if (option && option.series && option.series[0] && option.series[0].markLine) {
                    const data = option.series[0].markLine[0].data;
                    if (data && data.length >= 3) {
                        data[0].label = Object.assign({}, data[0].label, { show: true, position: 'end', formatter: markLines[0] });
                        data[1].label = Object.assign({}, data[1].label, { show: true, position: 'end', formatter: markLines[1] });
                        data[2].label = Object.assign({}, data[2].label, { show: true, position: 'end', formatter: markLines[2] });
                        chart.setOption(option, true);
                    }
                }
            }

            function switchLanguage(lang) {
                setStoredLang(lang);
                updateHtmlLang(lang);
                applyTranslations(lang);
                setActiveButton(lang);
                if (window.iphoChart) updateChartLanguage(window.iphoChart, lang);
                document.dispatchEvent(new CustomEvent('languageChanged', { detail: { lang } }));
                if (window.buildTOC) { try { window.buildTOC(); } catch {} }
            }

            // init on DOMContentLoaded to ensure elements exist
            document.addEventListener('DOMContentLoaded', () => {
                const current = getStoredLang();
                updateHtmlLang(current);
                applyTranslations(current);
                setActiveButton(current);
                const zhBtn = document.getElementById('btn-zh');
                const enBtn = document.getElementById('btn-en');
                if (zhBtn) zhBtn.addEventListener('click', () => switchLanguage('zh'));
                if (enBtn) enBtn.addEventListener('click', () => switchLanguage('en'));
                setTimeout(() => { if (window.buildTOC) { try { window.buildTOC(); } catch {} } }, 0);
                
                // Ensure MathJax renders after initial load
                setTimeout(() => {
                    if (typeof MathJax !== 'undefined' && MathJax.typesetPromise) {
                        MathJax.typesetPromise().catch(function (err) {
                            console.log('MathJax initial typeset error: ' + err.message);
                        });
                    }
                }, 100);
            });

            // expose for debugging
            window.switchLanguage = switchLanguage;
        })();
        
        // Theme Toggle Functionality
        (function() {
            const THEME_STORAGE_KEY = 'site_theme';
            const THEME_ATTR = 'data-theme';
            
            function getStoredTheme() {
                return localStorage.getItem(THEME_STORAGE_KEY) || 'dark';
            }
            
            function setStoredTheme(theme) {
                localStorage.setItem(THEME_STORAGE_KEY, theme);
            }
            
            function applyTheme(theme) {
                document.documentElement.setAttribute(THEME_ATTR, theme);
                setStoredTheme(theme);
                updateThemeIcon(theme);
                updateThemeLabel(theme);
                updateAilabLogo(theme);
                updateDynamicsImage(theme);
                
                // Notify iframes about theme change
                notifyIframesOfTheme(theme);
            }
            
            function notifyIframesOfTheme(theme) {
                document.querySelectorAll('iframe').forEach(iframe => {
                    try {
                        iframe.contentWindow.postMessage({
                            type: 'themeChange',
                            theme: theme
                        }, '*');
                    } catch (e) {
                        console.error('Error sending theme to iframe:', e);
                    }
                });
            }
            
            // Initialize theme immediately (before DOMContentLoaded) to prevent flash
            (function() {
                const savedTheme = getStoredTheme();
                document.documentElement.setAttribute(THEME_ATTR, savedTheme);
            })();
            
            function updateThemeIcon(theme) {
                const icon = document.getElementById('themeIcon');
                if (!icon) return;
                
                const currentLang = localStorage.getItem('site_lang') || 'en';
                const isLight = theme === 'light';
                
                if (isLight) {
                    // Sun icon for light mode
                    icon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path>';
                } else {
                    // Moon icon for dark mode
                    icon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>';
                }
            }
            
            function updateThemeLabel(theme) {
                const label = document.getElementById('themeLabel');
                if (!label) return;
                
                const currentLang = localStorage.getItem('site_lang') || 'en';
                const isLight = theme === 'light';
                
                if (isLight) {
                    label.textContent = currentLang === 'zh' ? '浅色' : 'Light';
                    label.setAttribute('data-i18n', 'theme.light');
                } else {
                    label.textContent = currentLang === 'zh' ? '深色' : 'Dark';
                    label.setAttribute('data-i18n', 'theme.dark');
                }
            }
            
            function updateAilabLogo(theme) {
                const logo = document.getElementById('ailabLogo');
                if (!logo) return;
                
                const isLight = theme === 'light';
                
                if (isLight) {
                    logo.src = 'imgs/ailab-logo-blue.png';
                } else {
                    logo.src = 'imgs/ailab-logo.png';
                }
            }
            
            function updateDynamicsImage(theme) {
                const img = document.getElementById('dynamicsImage');
                if (!img) return;
                
                const isLight = theme === 'light';
                
                if (isLight) {
                    img.src = 'imgs/dynamics_white.png';
                } else {
                    img.src = 'imgs/dynamics_black.png';
                }
            }
            
            function toggleTheme() {
                const current = getStoredTheme();
                const newTheme = current === 'dark' ? 'light' : 'dark';
                applyTheme(newTheme);
                
                // Notify all iframes about theme change
                document.querySelectorAll('iframe').forEach(iframe => {
                    try {
                        iframe.contentWindow.postMessage({ type: 'themeChange', theme: newTheme }, '*');
                    } catch (e) {
                        // Cross-origin or other error, ignore
                    }
                });
                
                // Trigger MathJax re-render if available
                if (typeof MathJax !== 'undefined' && MathJax.typesetPromise) {
                    setTimeout(() => {
                        MathJax.typesetPromise().catch(function (err) {
                            console.log('MathJax theme change typeset error: ' + err.message);
                        });
                    }, 100);
                }
            }
            
            // Initialize theme on page load
            document.addEventListener('DOMContentLoaded', () => {
                const savedTheme = getStoredTheme();
                applyTheme(savedTheme);
                
                const themeToggle = document.getElementById('themeToggle');
                if (themeToggle) {
                    themeToggle.addEventListener('click', toggleTheme);
                }
                
                // Update label when language changes
                document.addEventListener('languageChanged', (e) => {
                    const currentTheme = getStoredTheme();
                    updateThemeLabel(currentTheme);
                });
                
                // Also update label after a short delay to ensure language is set
                setTimeout(() => {
                    const currentTheme = getStoredTheme();
                    updateThemeLabel(currentTheme);
                }, 100);
                
                // Send initial theme to iframes when they load
                document.querySelectorAll('iframe').forEach(iframe => {
                    iframe.addEventListener('load', () => {
                        setTimeout(() => {
                            const currentTheme = getStoredTheme();
                            console.log('Sending initial theme to iframe:', currentTheme);
                            try {
                                iframe.contentWindow.postMessage({
                                    type: 'themeChange',
                                    theme: currentTheme
                                }, '*');
                            } catch (e) {
                                console.error('Error sending initial theme to iframe:', e);
                            }
                        }, 100);
                    });
                });
            });
            
            // Expose for debugging
            window.toggleTheme = toggleTheme;
            window.getCurrentTheme = () => getStoredTheme();
        })();
        
        // Ensure MathJax renders after window load (when MathJax script is fully loaded)
        window.addEventListener('load', () => {
            setTimeout(() => {
                if (typeof MathJax !== 'undefined' && MathJax.typesetPromise) {
                    MathJax.typesetPromise().catch(function (err) {
                        console.log('MathJax window load typeset error: ' + err.message);
                    });
                }
            }, 200);
        });
        
        // Toggle context visibility
        function toggleContext(contextId) {
            const content = document.getElementById(contextId);
            const button = content.previousElementSibling;
            
            if (content.classList.contains('show')) {
                content.classList.remove('show');
                button.classList.remove('active');
            } else {
                content.classList.add('show');
                button.classList.add('active');
                
                // Retrigger MathJax rendering for this context
                if (typeof MathJax !== 'undefined' && MathJax.typesetPromise) {
                    MathJax.typesetPromise([content]).catch(function (err) {
                        console.log('MathJax typeset error: ' + err.message);
                    });
                }
            }
        }
        
        // Toggle solution visibility
        function toggleSolution(solutionId) {
            const content = document.getElementById(solutionId);
            const button = content.previousElementSibling;
            
            if (content.classList.contains('active')) {
                content.classList.remove('active');
                button.classList.remove('active');
            } else {
                content.classList.add('active');
                button.classList.add('active');
                
                // Retrigger MathJax rendering for this solution
                if (typeof MathJax !== 'undefined' && MathJax.typesetPromise) {
                    MathJax.typesetPromise([content]).catch(function (err) {
                        console.log('MathJax typeset error: ' + err.message);
                    });
                }
            }
        }
        
        // Copy BibTeX citation
        function copyBibtex() {
            const bibtexContent = document.getElementById('bibtexContent').textContent;
            const button = event.target;
            
            navigator.clipboard.writeText(bibtexContent).then(function() {
                const originalText = button.textContent;
                const currentLang = localStorage.getItem('site_lang') || 'en';
                button.textContent = currentLang === 'zh' ? '已复制' : 'Copied';
                button.classList.add('copied');
                
                setTimeout(function() {
                    button.textContent = originalText;
                    button.classList.remove('copied');
                }, 2000);
            }).catch(function(err) {
                console.error('Failed to copy: ', err);
                const currentLang = localStorage.getItem('site_lang') || 'en';
                alert(currentLang === 'zh' ? '复制失败，请手动复制' : 'Copy failed, please copy manually');
            });
        }
        
        function openLightbox(element) {
            const img = element.querySelector('.article-image');
            const lightbox = document.getElementById('lightbox');
            const lightboxImage = document.getElementById('lightboxImage');
            
            lightboxImage.src = img.src;
            lightboxImage.alt = img.alt;
            lightbox.classList.add('active');
            
            // Prevent body scroll
            document.body.style.overflow = 'hidden';
        }
        
        function closeLightbox(event) {
            // Close only if clicking on overlay or close button, not on image
            if (event.target.id === 'lightbox' || event.target.closest('.lightbox-close')) {
                const lightbox = document.getElementById('lightbox');
                lightbox.classList.remove('active');
                document.body.style.overflow = '';
                event.stopPropagation();
            }
        }
        
        // ESC key to close lightbox
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                const lightbox = document.getElementById('lightbox');
                if (lightbox.classList.contains('active')) {
                    lightbox.classList.remove('active');
                    document.body.style.overflow = '';
                }
            }
        });
        
        // Progress Bar
        function updateProgressBar() {
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            const scrollHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const scrollPercentage = (scrollTop / scrollHeight) * 100;
            document.getElementById('progressBar').style.width = scrollPercentage + '%';
        }
        
        // Scroll to Top Button
        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }
        
        function toggleScrollToTopButton() {
            const scrollToTopBtn = document.getElementById('scrollToTop');
            if (window.pageYOffset > 500) {
                scrollToTopBtn.classList.add('visible');
            } else {
                scrollToTopBtn.classList.remove('visible');
            }
        }
        
        // Scroll event listener
        window.addEventListener('scroll', function() {
            updateProgressBar();
            toggleScrollToTopButton();
        });
        
        // Initial call
        updateProgressBar();
        toggleScrollToTopButton();
        
        // Add fade-in animation for content sections
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };
        
        const observer = new IntersectionObserver(function(entries) {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);
        
        // Observe all animated elements
        document.querySelectorAll('.content-section, .article-image-container, .highlight-card').forEach(el => {
            observer.observe(el);
        });
        
        // Initialize IPhO Chart
        function initIphoChart() {
            const scoreTotal = 30;
            const scoreMedal = [19.7, 12.1, 7.2]; // Gold, Silver, Bronze
            const labels = [
                'P1-235B-A22B\n+ PhysicsMinions',
                'Gemini-2.5-Pro','GPT-5','P1-235B-A22B','Gemini-2.5-Flash\n-Thinking',
                'Claude-4-Sonnet\n-Thinking','Grok-4','P1-30B-A3B','DeepSeek-R1','Qwen3-235B-A22B\n-Thinking-2507','GPT-OSS-120B','Kimi-K2-Instruct','o4-mini (high)','Intern-S1','o3','Qwen3-30B-A3B\n-Thinking-2507','DeepSeek-V3',
                'GLM-4.5V','GPT-4o'
            ];
            const values = [
                23.2,
                22.7, 22.3, 21.22, 20.2,
                19.0, 18.7, 18.53, 18.5, 17.1, 16.9, 16.5, 16.0, 15.9, 15.7, 15.6, 13.6,
                11.9, 10.2
            ];

            // Model categories
            const closedSource = new Set(['GPT-5','o3','o4-mini (high)','o4-mini','Gemini-2.5-Pro','Gemini-2.5-Flash-Thinking','Claude-4-Sonnet-Thinking','Grok-4','GPT-4o','Claude-4-Sonnet','Mistral-Medium-3']);
            const openSourceMLLM = new Set(['GLM-4.5V','Intern-S1','LLaMA4-Scout-17B','Qwen2.5-VL-72B-Instruct','Qwen2.5-VL-32B-Instruct','InternVL3-78B-Instruct','InternVL3-38B-Instruct']);
            const p1Series = new Set(['P1-235B-A22B','P1-30B-A3B']);
            const openSourceLLM = new Set(['Qwen3-235B-A22B','Qwen3-235B-A22B-Thinking-2507','Qwen3-30B-A3B','Qwen3-30B-A3B-Thinking-2507','Qwen3-32B','Qwen3-8B','DeepSeek-R1','DeepSeek-V3','GPT-OSS-120B','Kimi-K2-Instruct']);

            // Colors
            const p1ColorLabel = '#60A5FA';
            const p1ColorEdge = '#93C5FD';
            const solverColor = '#EF4444';
            const goldColor = '#F7D411EF';
            const silverColor = '#C0C0C0';
            const bronzeColor = '#CD7F32';
            const whiteColor = '#FFFFFF';

            function barColorFor(label, value) {
                if (value >= scoreMedal[0]) return goldColor;
                if (value >= scoreMedal[1]) return silverColor;
                if (value >= scoreMedal[2]) return bronzeColor;
                return whiteColor;
            }

            function isP1Label(label) {
                return typeof label === 'string' && label.startsWith('P1-');
            }

            const normalize = (s) => (typeof s === 'string' ? s.replace(/\n/g, '') : s);
            const closedSourceNorm = new Set(Array.from(closedSource).map(normalize));
            const openSourceMLLMNorm = new Set(Array.from(openSourceMLLM).map(normalize));
            const openSourceLLMNorm = new Set(Array.from(openSourceLLM).map(normalize));
            
            function isClosedLabel(label) {
                const key = normalize(label);
                return closedSourceNorm.has(key);
            }

            const stripeDecal = {
                symbol: 'rect',
                dashArrayX: [1, 0],
                dashArrayY: [2, 2],
                rotation: -Math.PI / 4,
                color: 'rgba(0,0,0,0.3)'
            };

            const data = labels.map((lb, i) => {
                const isSolver = lb === 'P1-235B-A22B\n+ PhysicsMinions';
                const isP1 = isP1Label(lb);
                const val = values[i];
                const baseColor = barColorFor(lb, val);
                const isClosed = isClosedLabel(lb);
                
                let labelColor = '#fff';
                let borderColor = 'transparent';
                let borderWidth = 0;
                let fontSize = window.innerWidth < 768 ? 14 : (window.innerWidth < 1024 ? 16 : 19);
                
                if (isSolver) {
                    labelColor = solverColor;
                    borderColor = solverColor;
                    borderWidth = 4;
                    fontSize += 3;
                } else if (isP1) {
                    labelColor = p1ColorLabel;
                    borderColor = p1ColorEdge;
                    borderWidth = 5;
                    fontSize += 2;
                } else {
                    if (val >= scoreMedal[0]) labelColor = goldColor;
                    else if (val >= scoreMedal[1]) labelColor = silverColor;
                    else if (val >= scoreMedal[2]) labelColor = bronzeColor;
                    else labelColor = '#000';
                }
                
                if (val < scoreMedal[2] && !isP1 && !isSolver) {
                    borderColor = '#000';
                    borderWidth = 1;
                }
                
                return {
                    value: val,
                    itemStyle: {
                        color: baseColor,
                        borderColor: borderColor,
                        borderWidth: borderWidth,
                        decal: (isClosed && !isP1) ? stripeDecal : null,
                        borderRadius: [3, 3, 0, 0],
                        opacity: 1,
                        shadowColor: 'rgba(0, 0, 0, 0.5)',
                        shadowBlur: 8,
                        shadowOffsetY: 2
                    },
                    label: {
                        show: true,
                        position: 'top',
                        color: labelColor,
                        fontSize: fontSize,
                        fontWeight: 'bold',
                        textShadowColor: 'rgba(0, 0, 0, 0.6)',
                        textShadowBlur: 3,
                        textShadowOffsetX: 0,
                        textShadowOffsetY: 1,
                        formatter: ({ value }) => value.toFixed(1)
                    }
                };
            });

            const chart = echarts.init(document.getElementById('ipho-chart'));
            
            // Responsive font sizes
            const labelFontSize = window.innerWidth < 768 ? 10 : (window.innerWidth < 1024 ? 11 : 12);
            const axisLabelSize = window.innerWidth < 768 ? 14 : (window.innerWidth < 1024 ? 16 : 18);
            const medalLabelSize = window.innerWidth < 768 ? 13 : (window.innerWidth < 1024 ? 15 : 17);
            const p1LabelSize = window.innerWidth < 768 ? 12 : (window.innerWidth < 1024 ? 13 : 15);
            
            const option = {
                backgroundColor: 'transparent',
                grid: { 
                    left: window.innerWidth < 768 ? 60 : 80, 
                    right: window.innerWidth < 768 ? 80 : 140, 
                    top: 20, 
                    bottom: window.innerWidth < 768 ? 120 : 140 
                },
                xAxis: {
                    type: 'category',
                    data: labels,
                    axisLabel: {
                        color: '#fff',
                        fontSize: labelFontSize,
                        rotate: 45,
                        align: 'right',
                        formatter: function (value) {
                            if (value === 'P1-235B-A22B\n+ PhysicsMinions') {
                                return '{solver|' + value + '}';
                            } else if (isP1Label(value)) {
                                return '{p1|' + value + '}';
                            }
                            return value;
                        },
                        rich: {
                            solver: { fontWeight: 'bolder', color: solverColor, fontSize: p1LabelSize },
                            p1: { fontWeight: 'bolder', color: p1ColorLabel, fontSize: p1LabelSize }
                        }
                    },
                    axisLine: { lineStyle: { color: '#fff' } },
                    axisTick: { lineStyle: { color: '#fff' } }
                },
                yAxis: {
                    type: 'value',
                    min: 0,
                    max: scoreTotal,
                    interval: 5,
                    axisLabel: { color: '#fff', fontSize: axisLabelSize },
                    axisLine: { lineStyle: { color: '#fff' } },
                    splitLine: { show: false }
                },
                tooltip: {
                    trigger: 'axis',
                    axisPointer: { type: 'shadow' },
                    backgroundColor: 'rgba(0,0,0,0.9)',
                    borderColor: '#A855F7',
                    textStyle: { color: '#fff' }
                },
                series: [
                    {
                        type: 'bar',
                        data,
                        barWidth: '70%',
                        emphasis: { focus: 'series' },
                        z: 10,
                        itemStyle: {
                            borderRadius: [3, 3, 0, 0]
                        },
                        emphasis: {
                            focus: 'series',
                            itemStyle: {
                                opacity: 1,
                                shadowBlur: 15,
                                shadowOffsetY: 4
                            }
                        },
                        markLine: {
                            symbol: 'none',
                            label: { show: false },
                            lineStyle: { type: 'dashed', width: 2.5 },
                            data: [
                                { yAxis: scoreMedal[0], lineStyle: { color: '#FFDA36E0' }, label: { show: true, position: 'end', formatter: 'Gold Medal', color: '#FFDA36E0', fontWeight: 'bold', fontSize: medalLabelSize }, z: 1 },
                                { yAxis: scoreMedal[1], lineStyle: { color: '#B4B3B3' }, label: { show: true, position: 'end', formatter: 'Silver Medal', color: '#B4B3B3', fontWeight: 'bold', fontSize: medalLabelSize }, z: 1 },
                                { yAxis: scoreMedal[2], lineStyle: { color: '#CD7F32' }, label: { show: true, position: 'end', formatter: 'Bronze Medal', color: '#CD7F32', fontWeight: 'bold', fontSize: medalLabelSize }, z: 1 }
                            ]
                        }
                    }
                ]
            };

            chart.setOption(option);
            
            return chart;
        }
        
        // Initialize chart when page loads
        let iphoChart = null;
        let resizeTimeout = null;
        
        if (typeof echarts !== 'undefined') {
            window.addEventListener('load', () => {
                iphoChart = initIphoChart();
                window.iphoChart = iphoChart;
                // apply chart language after init
                try {
                    const lang = localStorage.getItem('site_lang') || 'zh';
                    const evt = new Event('chartLangReady');
                    document.dispatchEvent(evt);
                    (function applyLater(){
                        if (window.switchLanguage) {
                            // re-apply to ensure markLines text
                            if (lang === 'en') window.switchLanguage('en');
                            else window.switchLanguage('zh');
                        }
                    })();
                } catch {}
            });
            
            // Resize handler with debounce
            window.addEventListener('resize', () => {
                if (iphoChart) {
                    iphoChart.resize();
                    
                    // Debounce re-initialization for responsive font sizes
                    clearTimeout(resizeTimeout);
                    resizeTimeout = setTimeout(() => {
                        iphoChart.dispose();
                        iphoChart = initIphoChart();
                    }, 300);
                }
            });
        }
        
        // --- Build Table of Contents ---
        (function() {
            function slugify(text) {
                return text
                    .toString()
                    .trim()
                    .toLowerCase()
                    .replace(/\s+/g, '-')
                    .replace(/[^\w\-\u4e00-\u9fa5]+/g, '')
                    .replace(/\-+/g, '-');
            }

            function ensureId(el) {
                if (!el.id) {
                    const base = slugify(el.textContent || 'section');
                    let id = base || 'section';
                    let i = 1;
                    while (document.getElementById(id)) {
                        id = base + '-' + i++;
                    }
                    el.id = id;
                }
                return el.id;
            }

            function buildTOC() {
                const list = document.getElementById('tocList');
                if (!list) return;
                list.innerHTML = '';
                const headings = document.querySelectorAll('main h2, main h3');
                headings.forEach(h => {
                    const id = ensureId(h);
                    const li = document.createElement('li');
                    li.className = h.tagName.toLowerCase() === 'h3' ? 'toc-h3' : 'toc-h2';
                    const a = document.createElement('a');
                    a.href = '#' + id;
                    a.textContent = h.textContent.trim();
                    a.addEventListener('click', (e) => {
                        e.preventDefault();
                        document.getElementById(id)?.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    });
                    li.appendChild(a);
                    list.appendChild(li);
                });
            }

            document.addEventListener('DOMContentLoaded', buildTOC);
            document.addEventListener('languageChanged', buildTOC);
            window.buildTOC = buildTOC;
        })();
    </script>
</body>
</html>
